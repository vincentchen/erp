<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<title>webERP Manual - Security Schema</title>
</head>
<body>
<basefont face="Arial, Verdana, Helvetica">
<div align="center"><font size="+4" color="blue"><b><u>webERP Manual</u></b></font></div> 
<br><br>
<font size="+3"><b>Security Schema</b></font>
<br><br>
The user name and password combination entered at logon enables the system to identify the permissions appropriate to the user. It is possible to determine and restrict which pages a user should be able to access. Each user is allocated to an Access Level or Security Group. 
<br><br>
The Security group must be defined in config.php in two ways. 
<br><br>
<ul>
<li>The Security Group Headings are defined in an array called SecurityHeadings.
<li>The Security Group page access codes applicable to the group must be defined in the SecurityGroups array - in the same order as the SecurityHeadings array. Ie the first security heading refers to the first array stored in the SecurityGroups array.
</ul>
Each script is defined as having a specific PageSecurity level. At the time of writing this is a number between 1 and 15 - if more levels of security are necessary then this can be expanded. The current PageSecurity settings applicable for each page are set out in the table below.
<br><br>
If the PageSecurity setting of the page is a number contained in the SecurityGroup array as determined from the users access level then the user will be allowed access to the page. The user access level is an integer that represents the index number of the array element of the SecurityGroups array defined in config.php.
<br><br>
Access authority is checked in header.inc script for all pages (or PDF_Starter.inc for PDF pages). The variable $_SESSION["AccessLevel"] is retrieved from the database when the user logs in. This variable refers to the index of the SecurityGroups array or arrays. The array of numbers that is referenced by this index defines the pages a user can see. Any page that has a $PageSecurity equal to any value in this array is deemed to be an authorised page.
<br><br>
If you wish to add more security groups then you must add a new Security Heading to the $SecurityHeadings array and a new array of PageSecurity numbers to the $SecurityGroups array. This mechanism allows the system administrator to closely and accurately control who can access what.
<br><br>
By changing the numbers in each array the security access can be tailored for all users referring to the array being modified. When setting the numbers in the array, reference to the index of PageSecurity values below will be necessary. Of course the value of the default settings can easily be modified.
<br><br>
The default settings in config.php are as follows:
<br><br>
Index Group
<br><br>
0 Inquiries Only
<br>
1 Manufacturing/Inventory Admin
<br>
2 Purchasing officer
<br>
3 AP Clerk
<br>
4 AR Clerk
<br>
5 Accountant
<br>
6 Customer logon 
<br>
7 System Administrator
<br><br>
to achieve this the following array for $SecurityHeadings is defined - the index number starting from 0 is incremented for each entry:
<br><br>
$SecurityHeadings = array(
<br>
"Inquiries/Order Entry",
<br>
"Manufac/Inventory Admin",
<br>
"Purchasing Officer",
<br>
"AP Clerk",
<br>
"AR Clerk",
<br>
"Accountant",
<br>
"Customer Log On Only",
<br>
"System Administrator"
<br>
);
<br><br>
the corresponding array of SecurityGroup arrays is defined in config.php also. The first array (1,2) refers to the page security numbers that a user with "Inquiries/Order Entry" access would be authorised to view.
<br><br>
$SecurityGroups = array(
<br>
array(1,2),
<br>
array(1,2,11),
<br>
array(1,2,4),
<br>
array(1,2,5),
<br>
array(1,2,3),
<br>
array(1,2,3,4,5,6,7,8,9,10,11),
<br>
array(1),
<br>
array(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15)
<br>
);
<br><br>
The system continues to evolve and the information set out below may be different in the current version. By default, each page has the variable $PageSecurity defined as follows:
<br><br>
<table border="2">
<th>Script File Name
<th>PageSecurity value 
<tr>
<td>
index.php
</td>
<td>
1
</td>
</tr>
<tr>
<td>
CustomerInquiry.php
</td>
<td>
1
</td>
</tr>
<tr>
<td>
DeliveryDetails.php
</td>
<td>
1
</td>
</tr>
<tr>
<td>
SelectOrderItems.php
</td>
<td>
1
</td>
</tr>
<tr>
<td>
AccountGroups.php
</td>
<td>
10
</td>
</tr>
<tr>
<td>
GLAccounts.php
</td>
<td>
10
</td>
</tr>
<tr>
<td>
GLJournal.php
</td>
<td>
10
</td>
</tr>
<tr>
<td>
BankAccounts.php
</td>
<td>
10
</td>
</tr>
<tr>
<td>
COGSGLPostings.php
</td>
<td>
10
</td>
</tr>
<tr>
<td>
CompanyPreferences.php
</td>
<td>
10
</td>
</tr>
<tr>
<td>
PaymentTerms.php
</td>
<td>
10
</td>
</tr>
<tr>
<td>
SalesGLPostings.php
</td>
<td>
10
</td>
</tr>
<tr>
<td>
InventoryCostUpdate.php
</td>
<td>
10
</td>
</tr>
<tr>
<td>
Prices_Customer.php
</td>
<td>
11
</td>
</tr>
<tr>
<td>
Prices.php
</td>
<td>
11
</td>
</tr>
<tr>
<td>
InventoryAdjustments.php
</td>
<td>
11
</td>
</tr>
<tr>
<td>
Inventorys.php
</td>
<td>
11
</td>
</tr>
<tr>
<td>
InventoryTransfers.php
</td>
<td>
11
</td>
</tr>
<tr>
<td>
FreightCosts.php
</td>
<td>
11
</td>
</tr>
<tr>
<td>
GoodsReceived.php
</td>
<td>
11
</td>
</tr>
<tr>
<td>
Locations.php
</td>
<td>
11
</td>
</tr>
<tr>
<td>
InventoryCategories.php
</td>
<td>
11
</td>
</tr>
<tr>
<td>
TaxAuthorities.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
WWW_Users.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_CreateCompany.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_DeleteCreditNote.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_DeleteInvoice.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_DeleteSalesTransActions.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_index.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_MakeInventoryLocns.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_RePostGLFromPeriod.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_ReverseSuppPaymentRun.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_UpdateChartDetailsBFwd.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_UploadForm.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Z_UploadResult.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
SalesTypes.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
Shippers.php
</td>
<td>
15
</td>
</tr>
<tr>
<td>
AgedDebtors.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
AgedSuppliers.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
ConfirmDispatch_Invoice.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
CustomerTransInquiry.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
FTP_RadioBeacon.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
InventoryPlanning.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
InventoryValuation.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
OrderDetails.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
PeriodsInquiry.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
PO_PDFPurchOrder.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
PO_SelectPurchOrder.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
PrintCustOrder.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
PrintCustStatements.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
PrintCustTrans_A4_Portrait.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
PrintCustTrans.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
SalesAnalReptCols.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
SalesAnalRepts.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
SalesAnalysis_UserDefined.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
SelectCompletedOrder.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
SelectCustomer.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
SelectProduct.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
SelectSalesOrder.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
SelectSupplier.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
ShiptsList.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
InventoryMovements.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
InventoryStatus.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
InventoryUsage.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
SupplierInquiry.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
BOMInquiry.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
BOMListing.php
</td>
<td>
2
</td>
</tr>
<tr>
<td>
Credit_Invoice.php
</td>
<td>
3
</td>
</tr>
<tr>
<td>
CustomerAllocations.php
</td>
<td>
3
</td>
</tr>
<tr>
<td>
CustomerBranches.php
</td>
<td>
3
</td>
</tr>
<tr>
<td>
CustomerReceipt.php
</td>
<td>
3
</td>
</tr>
<tr>
<td>
Customers.php
</td>
<td>
3
</td>
</tr>
<tr>
<td>
PDFBankingSummary.php
</td>
<td>
3
</td>
</tr>
<tr>
<td>
SelectCreditItems.php
</td>
<td>
3
</td>
</tr>
<tr>
<td>
Areas.php
</td>
<td>
3
</td>
</tr>
<tr>
<td>
CreditStatus.php
</td>
<td>
3
</td>
</tr>
<tr>
<td>
SalesPeople.php
</td>
<td>
3
</td>
</tr>
<tr>
<td>
PO_Header.php
</td>
<td>
4
</td>
</tr>
<tr>
<td>
PO_Items.php
</td>
<td>
4
</td>
</tr>
<tr>
<td>
PurchData.php
</td>
<td>
4
</td>
</tr>
<tr>
<td>
InventoryReorderLevel.php
</td>
<td>
4
</td>
</tr>
<tr>
<td>
Payments.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
SuppCreditGRNs.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
SuppInvGRNs.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
SupplierAllocations.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
SupplierContacts.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
SupplierCredit.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
SupplierInvoice.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
Suppliers.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
SuppPaymentRun.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
SuppShiptChgs.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
SuppTransGLAnalysis.php
</td>
<td>
5
</td>
</tr>
<tr>
<td>
BankMatching.php
</td>
<td>
7
</td>
</tr>
<tr>
<td>
BankReconciliation.php
</td>
<td>
7
</td>
</tr>
<tr>
<td>
GLAccountInquiry.php
</td>
<td>
8
</td>
</tr>
<tr>
<td>
GLCodesInquiry.php
</td>
<td>
8
</td>
</tr>
<tr>
<td>
GLTransInquiry.php
</td>
<td>
8
</td>
</tr>
<tr>
<td>
GLTrialBalance.php
</td>
<td>
8
</td>
</tr>
<tr>
<td>
SelectGLAccount.php
</td>
<td>
8
</td>
</tr>
<tr>
<td>
BOMs.php
</td>
<td>
11
</td>
</tr>
<tr>
<td>
WorkCentres.php
</td>
<td>
11
</td>
</tr>
</table>
</body>
</html>

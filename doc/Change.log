<P>webERP Change Log

Upgrade script 2.8 - 2.9 is necessary to be applied against a 2.8 database.


19/6/04 GLBalanceSheet.php displays a html balance sheet for any period end.
17/6/04 AccountGroups now uses an array for Section in accounts defined in config.php $Sections array. This array also used in GLProfit_Loss.php
17/6/04 GLProfit_Loss.php added - index.php modified to add a link to this script
8/6/04 DefineCartClass.inc updates to DB new parameters for delete, remove, add to cart class - changes to SelectIntoCartClass and other scripts to pass appropriate variables rather than rely on SESSION['ExistingOrder']. Also DecimalPlaces field added to order data in add_to_cart.
8/6/04 Updates to SelectOrderItems.php now uses new DB_query error message/debug message parameters
8/6/04 SelectCreditItems.php now uses Quantity not QtyDispatched - bug corrected.
5/6/04 New script StockSerialItems.php shows the stock status of serial or controlled items - the total shown should tie up with the StockStatus total quantities on hand.
29/5/04 New script StockTransfersControlled.php allows input of serial items for stock transfers.
29/5/04 New script StockAdjustmentsControlled.php allows input of serial items for stock adjustments.
29/5/04 StockStatus.php, StockMovements.php StockLocMovements.php, StockUsage.php now all use the new decimalplaces field of the stock master to display quantities.
25/5/04 BOMs.php modified to use Jesse DB_query function with error messages and Debug messages
25/5/04 Stocks.php now checks and stops the mbflag change to assembly or kitset when the item is a component in a bill.
25/5/04 ConfirmDispatch_Invoice.php updates and inserts for serialised/controlled items.
24/5/04 ConfirmDispatch_Invoice.php ConfirmDispatchControlled_Invoice.php DefineSerialItems.php mods for controlled batch numbers and serial number input.
21/5/04 GoodsReceived.php and GoodsReceivedControlled.php now allows for receiving controlled and controlled/serialised items.
17/5/04 StockMoves remove field BundleID
17/5/04 StockCheck.php now only prints stock sheets for items committed to the stockcheckfreeze table. Behaviour of this script was counter intuitive. Deletion of existing entries deleted all locations stock of the same range of categories - now corrected.
17/5/04 Added DecimalPlaces tinyint default 0 to StockMaster - this determines the number of decimal places to show for the stock item in all places where the item is displayed. Yet to update displaing throughout the system.
12/5/04	DeliveryDetails.php SelectOrderItems.php DefineCartClass.php - deleting lines off an existing order was not working correctly. It was possible to delete completed order lines off an order in changing an outstanding order line. Bad bug corrected.
5/5/04	Added new tables for Serialised stuff StockSerialItems StockSerialMoves. Alterations to StockMaster for Serialised and DecimalPlaces - for displaying items with different decimal places
5/5/04  Added includes/MiscFunctions.php for Jesse. Stocks.php script modified for Serialised and DecimalPlaces
29/4/04 StockLocTransferReceive.php to receive quantities set up to transfer from StockLocTransfer.php. Deletes the temporary table data holding the transfered items on creation of the stock movements necessary.
28/4/04 RePostGL scripts added updating of ChartDetails.BFwdBudget field.
28/4/04 SelectProduct.php added link to the part picture as suggested by Alan Beard.
25/4/04 StockLocTransfer.php - contributed by Chris Bice, creates a transfer from one location to another without creating the transaction but records the transfer in a pending transfers file. Also PDFStockTransfer.php and includes/PDFStockLocTransferPageHeader.inc creates the transfer paperwork. new table LocTransfers also required - in upgrade script.
25/4/04 GLAccountInquiry.php modifications as contributed by Dirk Eversmann incorporated - now allows multiple periods to be selected and shows the transactions for the whole range of periods between the highest and lowest. Also the movement for each period. B/fwd balances and c/fwd balances only shown where the account is a balance sheet account. GL account is now selectable from a list rather than selecting as per customer or supplier - unlikely to be the same volume of GL accounts hence overhead of downloading all GL accounts over dial up (for the list) is deemed an acceptable compromise.
22/4/04 PO_SelectOSPurchOrder.php made the location default properly to the users default location.
22/4/04 Links for CurrencySuppliersBalances.php and CurrencyDebtorsBalances.php re-instated on Z_index.php - these scripts are for reconciling the creditors and debtors control accounts.
22/4/04 bug fix in GoodsReceived.php - cost differences where std cost changed was not working correctly all cost was going to price variance rather than stock!! Serious bug.... now rectified.
18/4/04 index.php now uses extra column where many options under one heading
18/4/04 New scripts StockLocStatus.php - inquiry script that shows all stock items status in the selected category. StockLocMovements.php - inquiry script that shows all movements in the selected location and date range - default only one month - this script can return a lot of data and is a mistake to run over dial up on a business with many stock movemnts. Thanks to Chris Bice for these scripts. Also added links from index.php -
2/4/04 config.php now over-rides php.ini to ensure tht NOTICES turned off.
30/3/04 Z_ChangeStockCode, Z_ChangeDebtorCode, Z_ChangeBranchCode all required mods to work correctly with Foreign key checks in place.
30/3/04 Stocks.php now prohibits stock codes containing a point .
30/3/04 SelectOrderItems search products now defaults to stock category 'All'
27/3/04 GoodsReceived.php now takes account of changed standard cost at between bookings in of stock - unbalanced GL journals corrected. (this was wrong - fixed 22/4/04)
16/3/04 Various scripts changed variables that are not initiated first to avoid NOTICES where NOTICES are enabled in php.ini - still a long way to go here
16/3/04 All scripts now have a comment for CVS version number - Dick Stins suggestion
16/3/04 Fixed bug on new system where sales and COGS GL posting tables not set up - auto create a default GL account - foreign key could give problem if account groups modified so now auto creates a sales account group first - thanks Dick Stins
14/3/04 Added new tables for EDI_ORDERS_Segs and EDI_ORDERS_SegGroups that hold the defined segments for the EANCOM EDI ORDERS message and the segment groups info.
14/3/04 AccountGroups.php modified to disallow & or ' - also fixed class='tableheader' as per css.
14/3/04 GLAccounts.php modified to check for related records in BankAccounts and TaxAuthorities to avoid data integrity issues. Foriegn  Keys added as necessary - in the upgrade2.8-2.9.sql script


Version 2.8
26 February 2004


26/2/04 TaxAuthorityRates.php script for modifying tax rates for defined tax authorities/tax levels
24/2/04 fixes to sales analysis reports with only one level of grouping - also error in ReportColumns storeage of datatype Select corrected.
22/2/04 EDIMessageFormat script to set up invoice format only so far
21/2/04 Foreign key defintions accross the board for all relations in all tables as necessary added to upgrade script 2.7-2.8
16/2/04 Referential integrity checks in Locations.php for changes in TaxAuthority to ensure existance of necessary records in TaxAuthLevels
16/2/04 Referential integrity checks in Stocks.php for changes in TaxLevel to ensure exist in TaxAuthLevels
16/2/04 Referential integrity checks in TaxAuthorities for deletions or additions of tax authorities to ensure that records exist (or are deleted) when Tax Authorities are added or deleted.
16/2/04 Customers now default the currency of new customer.
16/2/04 Suppliers now default the currency and clears input from last insertion on each addition.
15/2/04 Location maintenance form modified to allow specification of the dispatch TaxAuthority.
15/2/04 Tax Authorities maintenance form modified no tax rate any more.
15/2/04 CustomerInquiry icons reduced in size.
12/2/04 Upgrade sql file create 2.7 - 2.8 to add new tables and modify existing ones as necessary.
12/2/04 SupplierInvoice.php and SupplierCredit.php modified to use the new tax configuration - gets tax rate from DefaultTaxLevel in config.php and TaxAuthority in Suppliers table.
12/2/04 EmailCustTrans.php that runs PrintCustTrans.php with appropriate get paramters to send the transation off to the customer branch email address - or the user can over-ride with another email address.
11/2/04 Email invoices or credits link set up from CustomerInquiry.php
11/2/04 Credit_Invoice.php get tax rate per the new tax structure record tax rate against each line of the credit note
11/2/04 New variable in config.php DefaultTaxLevel used in AP and for freight tax calcs by default
10/2/04 modified Z_changeStockCode.php to not use a transaction - some of the tables were not transactional tables anyway. Also Z_ChangeCustomerCode.php same treatment.
10/2/04 new script Z_ChangeBranchCode.php changes the branch code for a selected customer and customer branch code - all occurrences in SalesAnalysis pricing, debtorTrans, CustBranch, SalesOrders etc changed
9/2/04 Modifications to SelectCreditItems.php to get tax rate per the new tax structure record tax rate against each line of the credit note
8/2/04 New function in SQL_CommonFunctions.inc to get the tax rate from the Level and TaxAuthority
8/2/04 Modification to ConfirmDispatch_Invoice.php to get tax rate and be user modifiable by line of the invoice
7/2/04 TaxLevel field added to Stocks.php master maintenance form.
7/2/04 EDISendInvoices.php script added to create EDI INVOIC messages for all customers with EDIInvoice set to 1 and DEbtorTrans EDISent field=0. Creates and sends EDI message in the method set up against the customer EDI set up. Linked in Z_index.php only - script should be run from Cron really - but debugging output for testing if run in browser.
6/2/04 EDI configuration variables applicable company wide in config.php
6/2/04 DateFunctions.inc new function SQLDateToEDI - takes an SQL date and converts it to EANCOM 102 format date
6/2/04 SelectCustomer.php new link to CustEDISetup.php
6/2/04 New field in StockMaster TaxLevel (TinyInt) this field indicates the level of tax applicable to the item. The rate of tax is determined by reference to the TaxAuthLevels table which is a matrix of TaxAuthorities and Levels of tax applicable.
6/2/04 new table TaxAuthLevels this is to enable tax rate depending on product
6/2/04 new field in StockMoves TaxRate float this records the rate used in the transaction
6/2/04 CustEDISetup.php new script to maintain the EDI parameters of the customer - the new fields in DebtorsMaster table.
6/2/04 PrintCustTrans.php now has option to print or not EDI Invoices - defaults to no print
6/2/04 new field in DebtorTrans for EDISent TinyInt - indexed. Required to figure out if the transmission of EDI invoices or credits are duplicates or originals.
1/2/04 new table for EDIMessageFormat for outgoing message definition by partner outgoing message is either INVOIC DebtorNo is expected or ORDERS - SupplierID is expected
1/2/04 new table for EDIItemMapping for the cross reference table of part codes of suppliers or customers for EDI translations for orders or invoices.
1/2/04 new field in CustBranch for CustBranchCode - the customers internal code for the branch - required for edi mapping purposes. Modified CustomerBranches.php to allow the field to be maintained.
1/2/04 New field in www_users for blocked tinyint this field is set to 1 when there have been too many login attempts. Modifications to session.inc to fail login if the account is blocked and to update the database when login attempt are exceeded. - Dick Stins suggestion.
28/1/04 DiscountCode in DebtorsMaster left off by mistake in last release - fixed.
28/1/04 Subject and from of email purchase order was incorrect.
28/1/04 Could not modify currencies - fixed
28/1/04 using zip format archive (compression is not as good) for 2.7 and on to increase compatability.

Version 2.7
14 January 2004

12/1/04 New scripts for PDFDeliveryDifferences.php and includes/DeliveryDiffercesPageHeader.inc to report order lines which werent delivered with the first drop of an order for whatever reason - a performance management measure.
11/1/04 DiscountCategories script to allow updates to stock master and see other items in the discount category.
11/1/04 Shipments written up in the manual. Discount Matrix written up in the manual.
11/1/04 SelectOrderItems.php modified for discount matrix lookups - DefineCartClass.inc now holds DiscountCategory for each line item on the order
11/1/04 DB changes modifications to DiscountMatrix table - new field StockMaster DiscountCategory increase length of barcode to 50 characters.
11/1/04 SelectSupplier options now tablularised as per SelectProduct.php
11/1/04 Shipt_Select.php new script to select shipment called alone or from SelectSupplier.php links to Shipments.php - to modify shipment, ShipmentCosting.php to view the costing and close to close the shipment record variances and do the GL journals.
9/1/04 SelectCredititems.php correction to sql on goods written off assembly item stock movement going out had an extra comman by mistake.
9/1/04 PrintCustStatement.php bug fix for page numbering.
8/1/04 New ShipmentCosting.php script when passed a SelectedShipment shows the current costing for the items on the shipment - also shows old closed costings.
8/1/04 ShipmentCharges table now has a field for StockID to store charges specific to a particular line item of a shipment. General shipment charges leave this field blank.
6/1/04 ShiptCharges.php now allows entry against shipments that are not from the same supplier eg frieght charges from a freight company can be entered against a differnt supplier's shipment as it should be!
6/1/04 Shipment sql changed in SupplierInvoice.php to Value not amount for ShipmentCharges - no updates to Accum value field in Shipments since can accumulate from ShiptCharges. AccumValue field dropped from Shipments table.
6/1/04 New Shipments.php script to allow definition of a shipment from purchase order items to the same supplier and into the same location
24/12/03 Added a 'professional' theme css directory to show how a different look can be acheived by editing the css script - login css is unchanged
24/12/03 class='tableheader' references updated throughout all scripts - I think?
24/12/03 Credit_Invoice.php and SelectCreditItems.php now use in line editing of lines rather than clicking the link to make it available to modify a line. This is a usability enhancement allowing several items to be modified on screen without sucessive round trips to the server for page updates. Deleting a line from a credit is now only a one click operation rather than a two click previously. Overhead saving, usability improved.
21/12/03 InventoryPlanning.php and header changed to use pdf.php class by R&OS - this is the last conversion PDFLIB is NO LONGER REQUIRED! PDFStarter.inc removed
21/12/03 PDFPaymentRun.php, header and footer changed to use pdf.php class by R&OS
16/12/03 SelectCreditItems.php bug in salesanalysis insert new record on Overcharge type credit note QtyDispatched should be Quantity.
16/12/03 SelectOrderItems.php made so that price/quantity/discount can be modified as displayed rather than hitting select to bring up the line for editing.
16/12/03 DeliveryDetails.php made to have button to modify line items and save any entries made on the form first using META refresh - taken off the select link on the order summary.

Version 2.6
15 December 2003

<P>14/12/03 Significant updates to the manual
<P>14/12/03 SelectCreditItems.php now has a credit type that allows an overcharge to be reversed without crediting the entire invoice then re-invoicing it as per Credit_Invoice.php page.
<P>14/12/03 $QuickEntries variable in config.php now used by SelectCreditItems and SelectOrderItems to determine how many quick entry fields to show for credit notes and order entry.
<P>14/12/03 fixed double process of last item on quick entry fields on order entry SelectOrderItems.php
<P>8/12/03 StockCheck.php now creates pdf using R & OS pdf.php class.
<P>5/12/03 StockStatus.php now includes demand for components of assemblies ie if the item is a component of an assembly the demand for the parent as extended by the Bill of Material quantity is included in the reported demand. The same modification in InventoryPlanning.php report.
<P>5/12/03 CustomerAllocations.php and includes/DefineCustAllocsClass.php now include the credits and receipts as a line - without any opportunity for allocating but for informational purposes. - Client request.
<P>5/12/03 PO_Items.php didn't retain the quantity when a supplier price was looked up - fixed.
<P>5/12/03 Stock check system implemented with a modification to print stock check sheets to also create a stock check data - update stock check data or print stock sheets only. Also, new scripts for StockCounts.php for entry of stock counts and PDFStockCheckComparison.php to report the difference and/or create adjustments for all items requiring an adjustment based on the counts and the stock check data quantities. New tables for StockCounts and StockCheckFreeze created.
<P>5/12/03 Z_PriceChanges.php has several utilities to modify pricing set up by sales type/customer specials.
<P>5/12/03 PrintCustStatements.php now has a config.php option to print settled transactions where they were settled in the last month. Previously this was the default. Could save printing and sending many statements which have zero balances if this option ( $Show_Settled_LastMonth )  is set to 0.
<P>5/12/03 PDFPriceList.php allows various options for making a pdf of the price lists or part of a price list.
<P>30/11/03 InventoryPlanning.php and StockUsage.php updated to avoid counting in hidden stock movements arising from pricing credits - no real physical stock movement only there for the credit line.
<P>27/11/03 Z_ChangeCustomerCode.php allows a customer code to be changed and modifies the code in all tables as necessary.
<P>27/11/03 Credit_Invoice.php now has a credit type that allows an overcharge to be reversed without crediting the entire invoice then re-invoicing it.
<P>27/11/03 StockMovements.php now only shows movements that are not hidden
<P>25/11/03 SpecialOrder.php created to allow one off indented items to be entered by selecting a supplier and a customer then entering the cost and selling price of the items with a description and stock category for GL coding.
<P>25/11/03 Changed fields defaulting to '' to blank - these fields actually stored '' not an empty string as expected. SalesAnalysis table fields and Prices DebtorNo and BranchCode fields. Also, changed datetime fields to date where time is not appropriate to store.
<P>13/11/03 SalesAnalysis_UserDefined.php broken up and ConstructSQLForUserDefinedSalesReport.inc for the SQL section and PDFSalesAnalysis.inc for the report construction section. The SalesAnalysis_UserDefined.php now uses these as includes as do the MailSalesReport.php and MailSalesReport_csv.php
<P>13/11/03 SalesAnalysis_UserDefined.php now prints totals for calculated columns in correct value format as specified
<P>13/11/03 SalesAnalysis_UserDefined.php now creates Sql for numerator col x or divided by a constant. Also new field in ReportColumns for Constant. SalesAnalReptCols.php has new field input for the constant.
<P>13/11/03 PrintCustStatements.php now settles transactions that should have allocated == the amount of the trans.
<P>11/11/03 GLPostings.inc now checks for and creates ChartDetails records where none existed even though they should have existed.
<P>30/11/03 PDFChequeListing.php now fixed include("includes/htmlMimeMail.php") so that reports do indeed get mailed! Also moved receipients of this report variable to config.php

Version 2.5
27 October 2003

Purely for marketing purposes and reflecting the fact that the system is becoming mature. Version numbering changed to lose the 0. before 2.5
<P>Phil 27/10/03 BOMListing.php and includes/PDFBOMListingPageHeader.inc modified to use R & OS pdf.php class
<P>Phil 27/10/03 AgedSuppliers.php and includes/PDFAgedSuppliersPageHeader.inc modified to use R & OS pdf.php class also supressed settled transactions and transactions with less than a cent unsettled from showing on a detailed report.
<P>Phil 27/10/03 AgedDebtors.php and includes/PDFAgedDebtorsPageHeader.inc modified to use R & OS pdf.php class.
<P>Phil 27/10/03 Credit_invoice.php cost now taken off sales analysis was adding cost when crediting in error.
<P>Phil 26/10/03 ReverseGRNs.php was not creating GL postings fixed was testing for journal amount using StdUnit
Cost sh/be StdCostUnit.
<P>Phil 20/10/03 Goods received were not recording the GRNBatch to cross reference to the stock movement transaction (in GoodsReceived.php) New field added to GRNs - GRNBatch. Also, was not refering to GRN batch in SuppInvGRN.php to cross reference the batch returned on entry of the goods received batch - normally written on the packing slip by the person booking the goods in.
<P>Phil 17/10/03 PrintCustStatements.php some fine tuning to layout - pagination when end of Settled Transactions and space before new page for footer.
<P>Phil 16/10/03 Changed AgedSuppliers.php and includes/PDFAgedSuppliersPageHeader.inc to use the R & OS pdf.php class instead of pdflib.
<P>Phil 15/10/03 New script PO_OrderDetails.php heavily modified from Open Accounting to show purchase order details instead of re-print of order - also shows qty received and actual price charged as modified from SupplierInvoice.php entry. Linked from PO_SelectCompletedOrder.php. Changed name to PO_SelectPurchOrder.php (can be any PO now not just completed). index.php and SelectSupplier.php links also modified for script name changes
<P>Phil 13/10/03 PDFChequeListing.php first payment in the range was missing - now fixed.
<P>Phil 13/10/03 SupplierInvoice.php/SupplierCredit.php fixed date retention - rounding of tax and GRN entries - table headers use class='tableheader'
<P>Phil 13/10/03 ConfirmDispatch_Invoice.php fixed assembly items stock movements not being created after NewQOH modification
<P>Phil 13/10/03 PO_Header.php and PO_Items.php now show the order number as the page header if its an order being modified
<P>Phil 13/10/03 SelectSupplier.php now has menu item for Outstanding Purchase Orders and Completed Purchase Orders
<P>Phil 13/10/03 PO_SelectCompletedPurchOrder.php now accepts order number entry and queries correctly
<P>Phil 13/10/03 SupplierContacts.php fixed now updates where spaces in contact name
<P>Phil 12/10/03 PO_SelectPurchOrder.php fixed table headers using class=tableheader
<P>Phil 12/10/03 PO_SelectCompletedPurchOrder.php fixed table headers using class=tableheader
<P>Phil 12/10/03 PO_PDFPurchOrder.php and includes/PO_PDFOrderPageHeader.inc now print in A4_Landscape with delivery dates and order total in currency of supplier
<P>Phil 12/10/03 PO_Items.php now checks for StockID existence where a code is entered.
<P>Phil 12/10/03 GoodsReceived.php narrative now adds StockID
<P>Phil 12/10/03 SupplierInvoice.php rounding fixed.
<P>Phil 12/10/03 ReverseGRN.php finsihed added to SelectSupplier.php menu
<P>Phil 8/10/03 New script to create a csv file of stock quantities added StockQties_csv.php added to index.php
<P>Phil 7/10/03 BOMInquiry.php now links the component codes back to SelectProduct.php
<P>Phil 7/10/03 CreditInvoice.php was not updating NewQOH - now corrected.
<P>Phil 7/10/03 Allow other pages to call SelectProduct.php with StockID to show the options available for the item code sent $_POST['Select'] = $_GET['StockID']
<P>Phil 7/10/03 SelectProduct.php tidy display when only one item returned from search
<P>Phil 5/10/03 OutstandingGRNs.php from and to criteria were not used by the SQL and no defaults - totals out of alignment with detail lines. Now fixed.
<P>Phil 5/10/03 GoodsReceived.php was not creating GL entries correctly at the standard cost due to setting the standard cost inside the for each loop have to use full vble name not the for each vble. Now fixed.


Version 0.2.4
1st October 2003

<P>Phil 1/10/03 PDFChequeListing.php fixed includes paths and link from index.php
<P>Sherif 1/10/03 WhereUsedInquiry.php ex Open Accounting modified and linked to from index.php and SelectProduct.php
<P>Phil 27/9/03 SupplierInvoice.php and SupplierCredit.php rounding of amounts posted to minimise allocation and GL cents issues also no GL postings for tax when tax is 0
<P>Phil 27/9/03 PO_Header.php same problem as below when hit enter line items.
<P>Phil 27/9/03 Stocks.php when submit hit refreshes to new search - used to fall over when https because hard coded http
<P>Phil 27/9/03 SupplierAllocations.php fixed footer.inc now down the bottom!
<P>Phil 27/9/03 PO_Header.php fixed cancel order to delete purchorderdetails not purchaseorderdetails as previously.
<P>Phil 27/9/03 PO_SelectPurchOrder.php Entering order number to search was ineffective - now fixed.
<P>Phil 22/9/03 A not unrelated fix script that re-applies current costs against sales analysis records. Z_ReApplyCostToSA.php for a specified period.
<P>Phil 22/9/03 Fixed Credit_Invoice.php was adding cost to sales analysis records sh/been taking off cost!!
<P>Phil 19/9/03 Fixed includes paths for Credit_invoice.php/InventoryValuation thanks Al
<P>Phil 19/9/03 SelectOrderItems removed extra AND in stock search SQL - thanks Al.
<P>Phil 14/9/03 New config.php variable $PO_AllowSameItemMultipleTimes and effected in PO_Items.php
<P>Phil 14/9/03 InventoryValuation.php SQL_CommonFunctions.inc now in includes corrected path

Version 0.2.3
13th September 2003

<P>Phil 13/9/03 Increased the length of all email fields in the database and scripts affected WWW_Users.php CustBranches.php SupplierContacts.php
<P>Phil 13/9/03 Increased the length of TaxRates in TaxAuthorities.php and the database
<P>Phil 13/9/03 Fixed bug that prevented GL payments from being entered
<P>Phil 13/9/03 Fixed bugs caused from re-structure of files all class definitions in includes forgot to modify some of the supplier transactions scripts - quite a few !!
<P>Phil 12/9/03 modified PDFStarter_ros.inc/session.inc/PrintCustTrans.php/PrintCustOrder.php to have save_session_path($SaveSessionPath) for load balancing web servers. Re-instated variable $SaveSessionPath in Config.php
<P>Phil 12/9/03 modified session.inc to include ConnectDB.inc from includes

Version 0.2.2
10th September 2003

<P>Phil 10/9/03 BOMs.php fixed search bug that only showed items that had a quantity on sales orders
<P>Phil 10/9/03 Tidy up BOMInquiry.php
<P>Phil 8/9/03 Reorganisation of remaining included files into includes all Define class files and class.pdf.php and htmlMimeMail.php files modifications to all files included from.
<P>Phil 8/9/03 index.php customer login was not initiating a NewOrder with call to SelectOrderItems.php fixed
<P>Phil 8/9/03 SelectOrderItems.php new cart was defined after using Items->DebtorNo so was lost on extranet login customer order.
<P>Phil 8/9/03 AgedDebtors.php now detail report now only shows transactions not fully allocated - fixed bug.
<P>Phil 8/9/03 CustTransInquiry.php corrected links to css/theme/images/
<P>Phil 8/9/03 Added .tableheader section to css/theme/default.css - used by sherif on tables to remove need for <bgcolor=#> and <font color=white> html throughout all table headings
<P>Phil 8/9/03 Modified CustAllocations.php ended the table and center of html so the footer comes out at the end!! Also used $TableHeader variable for repeated headings - modified to use .tableheader css
<P>Phil 8/9/03 Modified SalesAnalysis_UserDefined to find the page header.inc under includes directory
<P>Phil 8/9/03 Modified SelectProduct.php to always show the selection criteria options - was a wasted click/round trip to server previously.

<P>Phil 2/9/03 Modified SelectOrderItems.php ConfirmDispatch_Invoice.php SelectCreditItems.php DeliveryDetails.php to move references to DefineCartClass.php to includes
<P>Phil 2/9/03 SupplierInvoice.php SupplierCredit.php references to DefineSuppTransClass.php moved to includes
<P>Phil 2/9/03 Payments.php now dissallows 0 payments DefinePaymentsClass.php moved to includes directory
<P>Phil 2/9/03 StockCostUpdate.php reverted back to the latest version with Shane's mods.
<P>Phil 2/9/03 CustomerAllocations.php reverted back to the latest version with Shane's mods. Also, moved DefinedCustAllocsClass.php to includes directory
<P>Phil 2/9/03 PrintCustTrans.php references to images/logo.jpg back to logo.jpg
<P>Phil 2/9/03 GoodsReceived.php default delivery quantity to 2 dp as per rest of system - would be good to set this with the stock item master how many decimal places to display and take this number as the number of dp to display.
<P>Phil 2/9/03 PO_PDFPurchOrder.php PO_PDFPageHeader.inc put back to later version that allows emailing and R & OS php-pdf class.
<P>Phil 2/9/03 removed images directory didn't think necessary for one image.
<P>Phil 2/9/03 Bug fixes following re-structure, PO_SelectPurchOrder.php extra bracket
<P>Phil 1/9/03 Bug fixes following re-structure, re-added link to stock check sheets in index.php. Updated PDFBankingSummary.php to new R & OS version.
<P>Phil 1/9/03 Allowed dates other than the calculated earliest dispatch date to be entered for the invoice date in Confirm_DispatchInvoice.php and also more flexible dating of orders in DeliveryDetails.php - to allow retrospective entry of an order already delivered.
<P>Phil 1/9/03 MailSalesReport_csv.php automated mailing of csv sales analysis report bugs ironed out and new structure for includes modified.

<P>(Shane Barnaby) 31/08/03 Renamed header.inc to session.inc to reflect pages function, which is to provide a common page for global includes and authenticate users. All references throughout the site modified to  from HeaderTitle.inc to includes/header.inc and header.inc to includes/session.inc
<P>(Shane Barnaby)31/08/03 Renamed HeaderTitle.inc to header.inc. The purpose of header.inc is to create the common HTML header used throughout the site.
<P>(Shane Barnaby)31/08/03 Created footer.inc. Every page throughout the site that closed out the HTML with </body></html> has been replaced with the footer.inc
<P>(Shane Barnaby)31/08/03 Moved all includes to includes directory. All references to these include files have been updated.
<P>(Shane Barnaby)31/08/03 Created css directory and moved all images to the default directory within css. This allows for the support of themes.
<P>(Shane Barnaby)31/08/03 Removed all references to style from the config.php and added the $theme variable.
<P>Shane 31/8/03 Removed web-erp.css all style now under the css directory/theme
<P>Shane 31/8/03 Extensive mods to index.php to reflect the theme defined under css - currently only default theme set up but other directories under css can be set up and referred to from the variable in config.php

<P>Phil 30/8/03 - PO_Items.php where a part code is entered it now checks that a part entered exists in the database before allowing it to be added to the order - bug fix.
<P>Chris 30/8/03 - SelectOrderItems.php checks for existence of the picture file before attempting to display it if no picture then displays "NO PICTURE"
<p>Phil 28/8/03 - META refresh statments referring to http could equally be (and more likely) https so made these more generic in SupplierCredit.php and SupplierInvoice.php. Link to OutstandingGRNs.php in index.php under AP reports.
<P>Phil 28/8/03 - OutstandingGRNs.php and PDFOstdgGRNsPageHeader.inc R &OS code pdf-php reports added to show the value of goods received not yet entered against purchase invoices for the purposes of reconciling the goods received suspense account
<P>Phil 28/8/03 - Modified InventoryValuation.php and PDFInventoryValnPageHeader.inc to use R &OS php-pdf class

<P>Phil 20/8/03 - SelectOrderItems.php now shows sales type of the customer.
<P>Phil 20/8/03 - GetPrice.inc now shows a warning if a zero price is returned.
<P>Phil 20/8/03 - SalesAnalysis_UserDefined.php now used R & OS and accepts 4 levels of grouping allowing more complex reports.
<P>Phil 20/8/03 - GetPrice.inc bug fixed now gets SalesType, DebtorNo, BranchCode price, then SalesType,DebtorNo, then SalesType, the default price list price.
<P>Phil 19/8/03 - mods to ConfirmDispatch_Invoice.php, StockAdjustments.php, StockTransfers.php, SelectCreditItems.php, GoodsReceived.php to insert the new qty on hand in the stock movement records created by these scripts and StockMovements.php to show the quantity on hand after each "movement" (?).
<P>Phil 19/8/03 - introduced a new field to StockMoves table NewQOH this records the new qty on hand after a stock movement
<P>Phil 18/8/03 - CustWhereAlloc.php shows how an invoice was paid ie the allocations that were made against it.
<P>Phil 18/8/03 - Z_CheckAllocs.php checks integrity of allocations
<P>Phil 18/8/03 - CustAllocations.php now includes previous allocations that settled a transaction (fixed bug)
<P>Phil 11/8/03 - PrintCustOrder_generic.php and PDFOrderPageHeader_generic.php now uses php-pdf by R & OS - for A4 Landscape packing slips - prints two copies one headed office copy the other customer copy. PrintCustOrder.php also allows re-prints on laser stationery with a link to PrintCustOrder_generic/.php. Also prints logo and company info.
<P>Phil 10/8/03 - CustomerBranches.php now also shows branch code./
<P>Phil 10/8/03 - SelectCustomer.php looks at customers codes/names not branches - fixed bug that didn't allow a customer to be selected for adding branches when none defined initially.
<P>Phil 10/8/03 - Prices_Customer.php now allows many prices to be defined for specific branches. Prices defined not refering to a branch will be the customer default for all branches without a specific price defined.
<P>Phil 10/8/03 - GetPrice.inc function changed to expect BranchCode. SelectOrderItems_IntoCart.inc also modified to send branch code when this function called from both SelectOrderItems.php and SelectCreditItems.php
<P>Phil 10/8/03 - Added new field to Prices table BranchCode Varchar(10) so that pricing can be set specific to a branch of a customer.
<P>Phil 10/8/03 - SelectOrderItems.php. DeliveryDetails.php DefineCartClass.php, SelectCreditItems.php changed references to $_SESSION['CustomerID'] to a new class variable Cart->DebtorNo so that another page open in the browser could not interfere with the order being entered in the same session.
<P>Phil 7/8/03 - SupplierInvoice.php now checks for pre-existing supplier invoice of the same reference before allowing entry
<P>Phil 7/8/03 - Install instructions modified to warn users of php.ini setting for session.auto_start sh/be =0

<P>Phil 7/8/03 - Payments.php now deals with supplier discount received correctly. Also adds supplier code to narrative of GL postings and bank transactions.
<P>Phil 6/8/03 - SupplierAllocations.php added check box to allocate whole trans and total allocated recalculation before submission of processing.
<P>Phil 6/8/03 - DefineSuppAllocsClass.php was not allowing existing allocations to show - fixed.
<P>Phil 6/8/03 - PO_PDFOrderPageHeader.inc changed $_GET['OrderNo'] to $OrderNo - order number not printing on purchase orders.
<P>Phil 4/8/03 - CustomerAllocations.php fixed it so that settled transactions now show on the allocation screen where there was an allocation against the transaction from the receipt or credit note being allocated!
<P>Phil 4/8/03 - CustomerInquiry.php fixed so negative receipts don't have allocation link and real ones do.
<P>(Phil)StockCostUpdate.php no longer creates a zero GLTrans where there is no quantity of stock on hand.
<P>(Phil)CustomerAllocations.php no longer shows unsettled negative receipts to allocate against. Also, settles transactions where the allocated amount = the amount of the transaction - there was a bug. New checkbox to tick off allocated transactions to get total exactly right and minimise keying (and input errors).Also, a button to recalculate the allocation total rather than report an error when attempting to process the allocation.
<P>(Phil)CustomerInquiry.php modified not to allow allocations of a negative receipt. Allocations must be from credit notes and positive receipts only. Negative receipts show as available to allocate to.
<P>(Phil)SelectCreditItems.php modified to ensure that a credit note could not be entered twice by hitting refresh. Whilst the CreditItems session variable was unset hitting refresh was entering a credit note for the tax value of the field posted for tax. This is now trapped with a check at the start of the page for an unset(SESSION['CreditItems']) and POST["ProcessCredit"].
<P>(Phil)PO_PDFPurchOrder.php modified to go straight through to print the order if ViewingOnly==1
<P>(Phil)Z_CheckDebtorsControl.php shows the debtors control account for the period selected to compare against the aged balance listing in local currency to prove data integrity - needs editing to modify the period to check.
<P>(Phil)PDFBankingSummary.php modified to use PHP-PDF class by R & OS and now in a prettier tabular format
<P>(Phil)PO_PDFPurchOrder.php and PO_PDFPageHeader.inc modified to use R & OS PHP-PDF class. Also now allows selection of a supplier contact to email the order to rather than print it then fax it as was the traditional method.
<P>(Phil)New scripts for StockCheck.php and PDFStockCheckPageHeader.inc pdflib based stock sheets print outs.

Version 0.2.0
26th July 2003

<P>(Phil)PDFOrderPageHeader.inc and PrintCustOrder.php now refer to the pre-printed stationery versions. These will have to be modified to suit the client. A packing slip format that is headed up is included in the distribution called PDFOrderPageHeader_generic.inc and PrintCustOrder_generic.php - may be better to have another link to this from the order.
<P>(Phil)CostUpdate.php now allows definition of two page security variables one that allows costs to be viewed and another that allows modifications to costs.
<P>(Phil)Prices.php now allows definition of two page security variables one that allows prices to be viewed and another that allows modifications to prices.
<P>(Phil)PO_OrderItems.php now has a button to lookup the purchase price of an item from the purchasing data this was automatic from the part search but where a code was entered directly, there was no lookup.
<P>(Phil)New field in CustBranch DefaultShipVia that gets updated at the time of invoicing (ConfirmDispatch_Invoice.php) if it was modified in an order.
<P>(Phil)PrintCustTrans.php and PDFTransPageHeader.inc modified to print the branch postal address instead of the head office address where the flag InvAddrBranch is set to 1
<P>(Phil)Customers.php modified to show AddrInvBranch option
<P>(Phil)Payments.php now retains the bank account from which the amount is being paid.
<P>(Phil)Fixed bug in SelectCompletedOrders.php was not showing the delivery dates and qty delivered due to earlier changes to the DefineCartClass.inc calls to additem now given correct params.
<P>(Phil)Made select customer select a branch names and codes rather than a charge account DebtorNo code.
<P>(Phil)Stopped order lines from being changed to 0 quantity
<P>(Phil)SelectOrderItems.php excludes branches with DiableTrans=1
<P>(Phil)SelectCreditItems.php excludes branches with DiableTrans=1
<P>(Phil)CustomerBranches.php modified to show the new fields for DisableTrans, PostAddr1 - 4.
<P>(Phil)GetSalesTransGLCodes.php fixed bugs was not returning codes correctly always using 1
<P>(Phil)CustomerAllocations.php and SupplierAllocations.php made a rounding tolerance of 0.005 for allocations to be accepted.
<P>(Phil)Fixed bug in SuppPaymentRun.php to only print/process suppliers with an amount owing - it was picking up suppliers with debit balances ;(
<P>(Phil)Changed SupplierInquiry.php to retain date from when invoice is held or released.
<P>(Phil)Changed SelectOrderItems.php (again :( ) to avoid showing the last quick entry item as selected. unset($_GET["Edit"]) at the end of the quick entry code.
<P>(Phil)Fixed bugs in SupplierInvoice.php and SupplierCredit.php that crashed the entry if the tax method was changed without a manual entry being applied new button to change tax calculation method.
<P>(Phil)ConfirmDispatch_invoice.php now has link to new order entry
<P>(Phil)CustomerAllocations.php fixed a bug that was number_format ing an already previously number_format ed field to display 1 where number_format had inserted a comma - ie where the figure for yet to allocate was > 999 the system displayed 1
<P>(Phil)SupplierInquiry.php made the invoices already paid incapable of changing status to held when already settled
<P>(Phil)SuppTransGLAnalysis.php made general ledger account select box show account code and in account code order
<P>(Phil)Made SelectOrderItems.php search only branches - a branch is required to invoice/credit it makes sense to select the branch rather than the customer and then the branch. The customer is implicit in the branch selection. Also use flag DisableTrans to ensure that only those current branches are allowed invoicing.
<P>(Phil)Added DisableTrans on CustBranch table to disable a branch from being invoiced or credited to
<P>(Phil)Added a new field AddrInvBranch to DebtorsMaster to enable invoices to be addressed to the branch postal address. To cover the situation where branch invoices must be sent to the branch not the charged customer.
<P>(Phil)Fixed OrderItems.php to show menu for navigation - sorry Sherif! Also, now centres order comments below. Invoice numbers used to invoice the order are appended to the comments from ConfirmDispatch_Invoice.php.
<P>(Phil)Fixed bugs in SelectSalesOrder.php was not using $_POST variables for SearchParts also was only searching parts with a sales order - need to show all parts then return orders for that part - no orders returned if no orders for the part selected.
<P>(Phil) SelectOrderItems.php now uses LIMIT as per SelectProduct.php to limit the number of parts returned on as per the config directive $Maximum_Number_Of_Parts_To_Show
<P>(Phil) Fixed bug in PDFBankingSummary.php now shows bank account name and account number.
<P>(Phil) Modified - SelectProduct.php to have an 'All' stock categories search to find an item where the user may not know what category its in or user doesn't need to enter the category cos she knows the code.
<P>(Phil) Modified - the PrintCustOrder.php and PDFOrderPageHeader.inc to use php-pdf class and default for pre-printed stationery. Pre-printed 2 part stationery is necessary to record notes of storemen. This will require modification for the client's own stationery. Copied the labelled up scripts to PrintCustOrder_generic.php and PDFOrderPageHeader.inc these still require PDFlib installed on the server.
<P>(Phil) Modified ConfirmDispatch_Invoice.php back to remove selection of freight company.
<P>(Phil) Modified delivery details to allow selection of a freight company and to allow entry of a freight cost to charge - which can be either calculated by the system or entered manually.
<P>(Phil) Made new directive in config.php $DefaultPriceList this is used if the price cannot be determined first by reference to the customers salestype and currency.
<P>(Phil) Modifications to SelectOrderItems.php GetPrice function to use the $DefaultPriceList if fails using the customer salestype/price list. This minimises input in other sales type prices to only those prices which are special to the customer.
<P>(Phil) Fixed login page in header.inc to test for AccessLevel=="" and check for existence of SecurityGroups being an array as it should be.
<P>(Phil) Deleted redundant fonts from the distribution only using helvetica
<P>(Phil) PrintCustTrans.php corrections to format of InvText printing and select box for Credit Notes or Invoices to allow correct parameter to be sent for printing a credit note - was not showing charge branch.
<P>(Phil) PrintCustStatements.php and PDFStatementPageHeader.inc now uses R & OS class.pdf.php class for creation of pdf statements.

Version 0.1.10
6 July 2003

<P>(phil) modified PrintCustTrans.php and PDFTransPageHeader.inc to use the R&OS class.pdf.php requires new file PDFStarter_ros.inc
<P>(Phil) config.php deleted DefaultFont - now in Sherif's style-sheet.
<P>(Phil) moved $ModuleList array of module descriptions to config.php now used in WWW_Users for defining access as well as index.php
<P>(Phil) WWW_Users.php modified to allow modules shown on a users menu to be defined and modified.
<P>(Phil) WWW_Users table addded ModulesAllowed char(20) to hold a comma seperated list of modules allowed to access defined in the same order as $ModuleList array
<P>(Phil) config.php now has a $version variable also referred to in header.inc
<P>(Phil) Added scripts class.pdf.php for the pdf-php class by R & OS http://www.ros.co.nz/pdf - this will allow pdf creation without pdflib module compiled or enabled in php. PDF report scripts are yet to be modified. The /fonts directory contains the fonts distributed with the class.
<P>(Sherif) New AutoStocks.php - allows automated adding of a range inventory items. under development.
<P>(Sherif) New lang folder to contain localizable language string files. (contains en.inc so far) for future development
<P>(Sherif) ConfirmDispatch_Invoice.php - freight calculations only on $DoFreightCalc flag. (Phil) Also added field to select freight company (shipper) manually.
<P>(Sherif) CustomerInquiry.php - display InvText, HTML cleanup of table header
<P>(Sherif) CustomerTransInquiry.php - display InvText, HTML cleanup of table header
<P>(Sherif) DefineCartClass.php - add storing of $FreightCost (see SelectOrderItems.php)
<P>(Sherif) DeliveryDetails.php - add missing fields that weren't being saved/loaded, freight cals only on $DoFreightCalc flag
<P>(Sherif) HeaderTitle.inc - add option to hide menu (useful when previwing orders/invoices/recepits,etc)
<P>(Sherif) index.php - Initial module enabling/disabling - not yet used another field in the user set up should determine the modules available. Also added link to AutoStocks.php disabled as an incomplete feature currently.
<P>(Sherif) OrderDetails.php - hide menu on display of this page
<P>(Sherif) PDFOrderPageHeader.inc - misc arrangement
<P>(Sherif) PDFStatementPageHeader.inc - misc arrangement
<P>(Sherif) PDFTransPageHeader.inc - misc arrangement, rename "A.B.N Number" to "Tax Authority"
<P>(Sherif) PDFTransPageHeader_A4_Portrait.inc - rename "A.B.N Number" to "Tax Authority"
<P>(Sherif) PO_Header.php - HTML cleanup, use tableheader style
<P>(Sherif) PO_Items.php - disable shipment calculation and display on incomplete features flag
<P>(Sherif) PO_PDFOrderPageHeader.inc - add viewing-only mark - was not merged last time i think.
<P>(Sherif) PrintCustTrans.php - get and display DelAdd4, rename "A.B.N Number" to "Tax Authority", "GST" to "Tax"
<P>(Sherif) PrintCustTrans_A4_Portrait.php - rename "A.B.N Number" to "Tax Authority"
<P>(Sherif) SelectCompletedOrder.php - HTML cleanup, use tableheader style
<P>(Sherif) SelectCreditItems.php - open preview in a new window
<P>(Sherif) SelectOrderItems.php - store $FreightCost in session with other vars, HTML cleanup,
<P>(Sherif) SelectProduct.php - hiding of commands for dummy items, use tableheader style in table
<P>(Sherif) SelectSupplier.php - get Address4 for Suppliers, use tableheader style in table
<P>(Sherif) StockCostUpdate.php - add saving of LastCost in StockMaster
<P>(Sherif) StockMovements.php  - HTML cleanup, use tableheader style, open preview/print in new window
<P>(Sherif) StockStatus.php - HTML cleanup, use tableheader style
<P>(Sherif) StockUsage.php - HTML cleanup, use tableheader style
<P>(Sherif) SupplierInvoice.php - hide 'Enter Against Shipment' button for incomplete features flag
<P>(Sherif) web-erp.css - add tableheader class to standardize table headers


Version 0.1.9
30 June 2003

<P>PrintCustTrans.php and PDFTransPageHeader.inc (phil) credit note printing printed branch in middle of company details. Wasn't printing at all on re-print - now fixed.
<P>ConfirmDispatch_Invoice.php (Sherif)  HTML cleanup
<P>Prices.php (Sherif) HTML cleanup
<P>Credit_Invoice.php (Sherif)  HTML cleanup
<P>DeliveryDetails.php (Sherif) HTML cleanup
<P>SelectCreditItems.php (Sherif) HTML cleanup, edit percentage as 0-100 not 0.0-1.0 (phil) fixed bug caused by additional parameters required for add_items which uses the same Cart class as SelectOrderItems.php following changes to the class required to highlight lines on order with quantity greater than stock (phil)
<P>SelectCustomer.php (Sherif) HTML cleanup
<P>Added new script PO_SelectCompletedPurchOrder.php to show completed purchase order details (Sherif)
<P>Added new script Currencies.php to enter or amend currencies and rates (Sherif)
<P>Added web-erp.css (Sherif)
<P>BOMs.php (Sherif) HTML cleanup, moved table display to function
<P>CustomerInquiry.php (Sherif) remove hard-coded date string
<P>Credit_Invoice.php (Sherif) remove hard-coded date string and display the tax rate
<P>SelectOrderItems.php (Sherif) removed ability to select a customer without a branch, entry of discounts now 0-100 not 0-1 as before.
<P>SelectSalesOrder.php (Sherif) HTML cleanup
<P>ConfirmDispatch_Invoice.php (Sherif)  print invoice opens a new window. HTML cleanup of unused FONT tags and
fix recalculation of tax on update. (phil) Fix GL trans created in functional currency not customer currency as before
<P>BOMs.php (Sherif) changed text from "effective from" to "effective after"
<P>PDFBOMListingPageHeader.inc  (Sherif) effective from -> effective after
<P>DeliveryDetails.php (Sherif) print sales order in a separate window
<P>PO_Items.php (Sherif) HTML cleanup of table headers, fix for deleting items
<P>SupplierInvoice.php (Sherif) HTML cleanup - make table headers as strings, display tax rate and authority
<P>SuppInvGRNs.php (Sherif) HTML cleanup, put table headers in strings
<P>header.inc $allow_demo_mode to display demo login or not depending on setting in config.php. Also, use a template and make a little prettier :)
<P>config.php (Sherif) added $allow_demo_mode to display demo login or not, also added $OverReceiveProportion used in receiving purchase orders.
<P>GoodsReceived.php (Sherif) added check $OverReceiveProportion to control receipt of quantities larger than on a purchase order
<P>StockUsage.php (Sherif) no stock usage for dummy, assembly or kitset items
<P>SelectProduct.php (phil) modified to disable the link to allow stock usage or stock status inquiries for dummy, kitset or assemblies (Sherif) HTML cleanup added link to PO_SelectCompletedPurchOrder.php
<P>SelectSalesOrder.php (Sherif) print sales order opens a new window
<P>PO_Header.php (Sherif)  UI fix
<P>PO_Items.php  (Sherif) cleaner way of deleting items to fix bugs in editing after creating order.
<P>CustomerBranches.php (Sherif) Check if there are any users that refer to this branch code before delete
<P>Customers.php (Sherif) change discounts to be entered as real percent 0-100 instead of 0.0-1.0
<P>DefinePOClass.php (Sherif) on delete of items, mark as deleted don't remove so we can compare later for changes
<P>DefineSuppTransClass.php (Sherif) fixed Shipment constructor name
<P>Payments.php (Sherif) for supplier payments, link back to same supplier to avoid re-selecting supplier code (phil) show GL account code in select box, check valid GL code for Bank accounts available for selection.
<P>PO_PDFOrderPageHeader.inc (Sherif)  add viewing-only mode misc re-arrangements for obstructing objects
<P>PO_PDFPurchOrder.php (Sherif) add mode to "view only". for completed purchase orders.
<P>StockCostUpdate.php (Sherif)  check whether the selected stock id actually exists before action
<P>StockMovements.php (Sherif)  HTML cleanup
<P>Stocks.php (Sherif)  $hide_incomplete_features for Controlled field
<P>SupplierCredit.php (Sherif) HTML cleanup, use $DefaultDateFormat for date display, syntax fixes for Shipments (phil) change to buttons for links to gl analysis, shipment entry and entry vs GRNs to avoid additional update step to store entries made in this screen to session.
<P>SupplierInquiry.php (Sherif)  added display of transaction description
<P>SuppShiptChgs.php (Sherif)  syntax fix
<P>SuppCreditGRNs.php (Sherif) HTML cleanup - Currency on new line
<P>ShiptsList.php (Sherif) fix table string display - was shifted one column (phil) changed to set $PageSecurity before header.inc included.
<P>CompanyPreferences.php (Sherif) syntax fix in UPDATE sql clause missed closing quote.
<P>index.php (Sherif) add link to the new currencies page, HTML cleanup of bad FONT codes, changed to black category text for better contrast, added link to query completed purchase orders.
<P>Logout.php (Sherif) add company name, logo and link back to login
<P>PO_SelectPurchOrder.php print opens in a separate window
<P>Prices.php HTML cleanup - changed heading to Currency prices for item code.
<P>SelectCustomer.php (Sherif) HTML cleanup - bigger font for customer name and code, changed text of link to modify sales orders - implicit that only outstanding orders can be modified!
<P>SelectSupplier.php (Sherif) Display the supplier name as well as the code 
<P>StockAdjustments.php (Sherif)  check that the stock item exists before action and link to stock movements on new line
<P>StockReorderLevel.php (Sherif)  HTML cleanup - put item code and description on a new line
<P>StockStatus.php (Sherif) HTML cleanup - removed unecessary <FONT> tags
<P>StockTransfers.php (Sherif)  Check that the stock item is valid before action
<P>TaxAuthorities.php (Sherif) check if there are suppliers using this tax authority before delete

<P>SelectOrderItems.php (Phil) now shows order lines where there is insufficient stock on hand at the location in red. Also modified price logic into a seperate function that gets the price specific to the customer if set up otherwise returns the defualt price for the sales type and currency of the customer otherwise 0.
<P>GLTrialBalance.php (Phil) now shows a link to the account inquiry page for the last period in the range selected
<P>WWW_Users.php (Phil) now checks that the customer code and branch code are valid before accepting the user details input
<P>GLTrialBalance.php (Phil) now shows subtotals by account group.
<P>CustomerReceipt.php (Phil) now checks for a valid GL account on bank account as Payments.php - also now shows account number in select box when entering a gl receipt.
<P>Payments.php (Phil) now checks to see that the bank account has a valid GL account defined for it. It was possible to enter payments to a non-existant GL account! Also, account code shows in select box for gl code.
<P>Payments.php (Phil) ensure that the company default currency is selected by default
<P>CustomerReceipt.php (Phil) check to see that there are entries in the receipt batch before processing
<P>header.inc (Phil) checked for AccessLevel==0 no longer appropriate sends user back to login screen - access level inquiries only

Version 0.1.8
22 June 2003

<P>MailInventoryReport.php script similar to MailSalesReport.php to enable automated email of inventory report
<P>MailSalesReport.php script added - largely a copy of SaleAnalysis_UserDefined.php. This new script runs a user defined sales analysis report and mails it to an email account. This script has no PageSecurity nor any output - it creates a file then emails it as an attachement to the address(es) specified in the script. It is meant to be run from cron using wget to email a sales report periodically to staff concerned.
<P>GetSalesTransGLCodes.inc now looks for SalesType, Area match for finding a GL code match before using the default.
<P>SelectProduct.php - added a transactions column to the actions applicable on selection of an item with links to perform stock adjustments or stock location transfers.
<P>PO_Header.php - changed the link to the line items to be a button that diverts to the PO_Items.php only after updating the session variables for changes in the form data. Needs META refresh in the browser - most have this
<P>SupplierInvoice.php - changed links to enter invoice amounts against goods received, against shipments and against gl to buttons and made the page redirect after updating the session variables with the posted data in the form. Changes could be lost without hitting update. This method avoids the need for the update button - which has now gone.
<P>SupplierCredit.php was not using the default date format for transaction dates.
<p>Stocks.php check for stock on hand when changing to assembly or kitset or dummy. Also check for sales orders or purchase orders when changing to assembly kitset or dummy. Also check for BOM when changing to buy or dummy.
<p>SQL_CommonFunctions.php GetCompanyRecord function excluding the fields now removed from this table.
<p>CompanyPreference.php reflecting the changes in the companies table below
<P>Companies table modified - removed default bank account and bank act number field from companies table. Multiple bank accounts can now be defined seperately.
<P>Companies table modified removed credit check flag - always checked now
<P>Companies table modified removed check stock flag
<P>Modified all scripts to have the variable $PageSecurity also config.php to allow definition of security by user group
this mechanism allows for much finer control of who has access to what.
<P>Modified GLTrialBalance.php to retain periods selected as a starting point for when entering a new period range
<P>Modified Stocks.php to always convert stock codes to upper case.
<P>SelectOrderItems.php - orders for kitset items that explode the BOM into its components to order were doubling in quantity for each component in the BOM - now fixed.
<P>SelectOrderItems.php - selection of parts to order would not show assembly parts since no stock location records for these parts - no stock is maintained for them. No longer show stock on hand in the location nearest the customer in the part search.
<P>Shippers.php fixed to allow editing of shippers - link was malformed.
<P>GLJournal.php modified to retain processing date after an entry is deleted.
<P>New script Z_RePostGLFromPeriod.php reposts all GLTrans from a selected period.
<P>New format invoice A4 landscape PDF.
<P>New script GLAccountInquiry.php called from SelectGLAccount.php allows listing of the transactions for a specified
account. The transaction type and number shows with a link to the detail of the individual transaction ie "drill down"
to the lowest level of the transaction.
<P>New script InventoryPlanning.php allows listing of the current stock status, QOH, Purchase orders outstanding and sales orders outstanding together with the recent history of stock movements and suggests an order quantity based on a number of periods stock to hold.
<P>Logout link shown on header destroys any session data - a user requested this function - can't see why it is necessary but hey!
<P>New script BOMListing.php allows listing of bills of material defined for a specified range of items.
<P>New script InventoryValuation.php allows listing stock items with a quantity !=0 by location and stock category.
<P>Stocks.php after updating an item the user is returned to a new select item screen (SelectProduct.php?NewSearch=True)
<P>SalesPeople.php - checked so that cannot have zero length salesperson code.
<P>Dropped redundant tables Hedges, TempMRP, StandingJournals (standing journals can be created live at any time since user can post forward and backwards at will).


Version 0.1.7
May 16 2003

<P>Costed BOM inquiry script - thanks Al Adcock.
<P>Modified Customers.php to always convert customer codes to upper case.
<P>Modified CustomerBranches.php to always convert branch codes to upper case.
<P>Modified StockCategories.php to always convert stock category codes to upper case.
<P>Modified Areas.php to always convert area codes to upper case.
<P>Modified PrintStatments.php to always convert customer from code and customer to codes to upper case.
<P>Modified SelectCustomer.php to always convert entries in either keywords or customer code extract to upper case.
<P>Modified SelectOrderItems.php to always convert search entries in either keywords or customer code extracts to upper case.
<P>MOdified SelectSupplier.php to always convert entries in either keywords or supplier code extract to upper case.
<P>Modified Suppliers.php to always convert the supplier code to upper case.
<P>Modified SalesTypes.php to always convert the sales type code to upper case.
<P>Modified SalesPeople.php to always convert the salesperson code to upper case.
<P>Modified SelectProduct.php to always convert the keywords or product code extract to upper case.

<P>Modified Locations.php to clear form variables for adding new locations and after updates to existing locations being modified. Made location codes always upper case.

<P>Some prawn changed the access rights of demonstration user so that one could only get into the order entry and account status screens. Made an admin user that has the rights to add or delete new users - prohibiting such destructive folks from malicious tricks in the sourceforge demo system.

<P>Modified SelectOrderItems.php to place the cancel whole order button away from the main entry - field testing showed that it was too easy to delete the order by hitting enter when the focus was on this button.

<P>New script to print bank reconciliation based on current gl balance of the bank account, showing bank payments not yet presented and deposits not yet cleared to arrive at a calculated bank statement balance. Links back to matching receipts and matching payments script. Also new link on index.php under GL inquiries.

<P>Added a link in index.php to allow re-prints of deposit listings produced from entry of receipts.

<P>New script for matching deposits and payments against bank statements, for the purposes of reconciling to bank statements. The script does double duty for matching deposits and payments, but must be called with either Receipts or Payments. Added appropriate links to this script in index.php one for Deposits matching and one for Payment Matching.

<P>Bug fix to GLTrialBalance.php the DefaultPeriodTo was not picking up the last defined period less one as was intended.

<P>Dropped the tables ClearedPayments and ClearedReceipts - amount cleared against banktrans now recorded inside the one banktrans table

<P>General Ledger Journal entry form created. New journal class defintion to hold the transaction before committing to the DB.
Reversing journals entered on same form by changing journal type to reversing, default is normal.
Prohibited journal entries directly to bank accounts since no banktrans record would be created for matching off statements.
Bank gl transactions must be entered as either a payment or a receipt.

<P>Removed facility to be able to modify the cost data for the part in the inventory item maintenance form since this did not create the
necessary GL journal if integrated stock journals are active. Cost changes must be effected through the dedicated form for this purpose.

<P>Entry of a payment to a general ledger act already defined as a bank account (be it a different bank account or the same bank account as the payment is from) now creates the necessary banktrans record for the receipt into the other (or same) bank account.
<P>Entry of a receipt to a general ledger act defined as a bank account now creates the necessary banktrans record for the payment from the other bank account as above.

Version 0.1.6

22 Mar 03

<P>Fixed bug in SelectProduct.php script that overstated stock on hand.Sadly I couldn't figure a way to show the sales order demand and resolve
this problem so the selection of parts no longer shows current sales order demand.

<P>Additional error trapping to check that a stock location is not a default stock location for an existing customer branch
before allowing deletion.Also, an additional error trap to check that the default_shipper in config.php cannot be deleted from the shipper maintenance form
Further error trap to check that shipping companies that have debtortrans records (ie invoices created using them) cannot be deleted.

Version 0.1.5

<P>User created with Access level less than or equal to 10 and with a customer code and branch code selected will be able to view
only the account details for the customer code selected with invoice reprints - only for the customers transactions. Such users
can also enter orders for the customer code and branch defined against them as well. This allows customers to be given access to the system
to view only their own details.

<P>Deleted PrintInvoice.php superseeded by PrintCustTrans.php which deals with credits and invoices

<P>logicworks.ini file changed name and all references to in other files to config.php to avoid displaying sensitive info in the
config file over the net ... duh! Thanks Ryan Fox!

<P>Sales Types - field to say if the sales type updates stock or not has been removed. This was a carry over from
some old logic that was superseeded.

<P>It was possible to add a sales type with a blank sales type code - now corrected

<P>Editing of a sales type was not possible - fixed.


<P>Version 0.1.4

<P>23 Feb 03

<P>New page GLTrialBalance.php to show a trial balance with movements for a month and a period

<P>GLPostings.inc to effect updates to ChartDetails for GLTrans created

<P>New variable in config.php to define the company's year end

<P>ConfirmDispatch_Invoice.php - changed date format of date of dispatch field to refer to the $DefaultDateFormat
invoices commited with dates in US format became 00/00/0000. Now corrected.

<P>ChartDetails table - BFwd and BFwdBudget fields created.

<P>GLTrans table - removed reversal flag - reversing journals now create the reversal in the following period
at the time of entry no flag is necessary since the open period system with no rollovers requires creation of reversals at the time.
Also, dropped field ShiptRef - transactions now created in seperate tablef

<P>Payment.php - was not unsetting the fields when a new GL analysis line was added to the payment.

<P>Periods table - LastDateInPeriod field changed from DateTime to Date.


<P>Version 0.1.3

<P>1 Feb 03

<P>Payments.php insert of BankTrans record now records Currency and TransNo and Type correctly.

<P>Allocation of supplier payments and credits - creating GL entries and exchange diffs.
Made SuppAllocs table mirror CustAllocs refering to the TransID rather than the Type and TransNo as previously.
SupplierAllocations.php and links from SupplierInquiry.php

<P>Changed DateFunctions.inc to use the global DefaultDateFormat variable in config.php to determine
format of dates required. Changed demo default to US format 'm/d/Y'

<P>SelectOrderItems.php can now select items with no prices set up for them - including kits
Customer special prices now comes up as a seperate item in the search -
the system will show the normal price part as well as the special price one.
SelectProduct.php removed the link to special customer prices in the case of a kit set parts.

<P>BOM.php - BOM Maintnenance - Effective dates were modified by the code to be in SQL format on submit
and appeared corrupt on the next viewing. Fixed.
Effective dates were not displayed in accordance with DefaultDateFormat - fixed.
Now check to ensure components cannot be on the BOM more than once.
Pass db handle by reference to check recursion function to eliminate errors.

<P>BOM table modified EffectiveTo and EffectiveAfter to be Date fields not DateTime as was.

<P>Shippers.php - Shipping company maintenance - deletion of shipping companies failed - fixed.

<P>Prices.php - should not be able to enter prices against a kit since a kit is exploded into its components.

<P>SelectProduct.php - dont show prices link for kitset products.

<P>Modified PDF_TranPageHeader.inc to refer to YPos rather than hard code vertical coordinates for credit notes
so that alternate paper sizes can be accomodated. Fixed invoices 20 Jan forgot credit notes.

<P>Created SuppCreditGRNs.php - this page allows selection of goods received records for entering supplier credits
against. Similar to the SuppInvGRNs.php but shows all goods received records after a specified date. The invoice
entry page only shows goods received records that are yet to be fully invoiced. The credit note needs to show
all goods received records.

<P>Now have SupplierCredit.php working creating GL entries as appropriate and shipment charge records etc.

<P>________________________________________________________________________________________________________________
<P>Version 0.1.2

<P>20 Jan 03

<P>Modified PDF_TranPageHeader.inc to refer to YPos rather than hard code vertical coordinates so that alternate
paper sizes can be accomodated. (only fixed invoices - credit notes fixed 28th Jan 03)

<P>Noted that pdf reports for Purchase orders did not print in Konqueror but worked fine in Netscape and Opera 6.1
No modifications - bug in Konqueror

<P>SupplierInvoice.php - stopped the script trying to update shipment 0 even though no shipment defined.

<P>WWW_Users table now has page size field varchar(20) was char(2) to allow proper description of page size.
There was a mismatch between PDFStarter.inc switch statements and the stored values in WWW_Users table.
Also modified WWW_Users.php to allow selection of other page sizes.

<P>SelectProduct.php now checks for the existence of any stock categories before proceding and insists on some
beng set up showing a link to the StockCategories.php script.

<P>CustomerBranches.php: Check for existence of Sales Types, Sales Areas and Stock Locations
before allowing input of branches with a null items in these fields.

<P>SalesAnalReptCols.php: Bug in sales analysis column definitions
BudgetOrActual field was used the opposite way in creating reports script SalesAnalysis_UserDefined.php.
Modified the select box BudgetOrActual to be 1 for Budget and 0 for Actual (NOT budget).
Also modified so that the returned 1 or 0 interpreted correctly on display of the column details from the
printf statement.

<P>________________________________________________________________________________________________________________
<P>Version 0.1.1

<P>11 Jan 03
<P>Release of initial file set warts and all.



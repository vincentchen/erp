<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<title>webERP Manual - Accounts Receivable</title>
</head>
<body>
<basefont face="Arial, Verdana, Helvetica">
<div align="center"><font size="+4" color="blue"><b><u>webERP Manual</u></b></font></div> 
<br><br>
<font size="+3"><b>Accounts Receivable</b></font>
<br><br>
<font size="+2"><b>Overview</b></font>
<br><br>
A primary function of the system is to track the amounts owed to the business by customers in both local and foreign currency. The system shows, invoice-by-invoice, the balance on the account and does not lose the detail of what makes the account up in a balance brought forward - it is an "open item" system. When payments received from customers are entered and allocated to invoices, the differences on exchange are calculated and posted to the general ledger - that is only if integration to the general ledger is enabled from the company preferences page under the setup tab.
<br><br>
<font size="+2"><b>Features</b></font>
<br><br>
<ul>
<li>Overdues inquiry that takes into account delivery days to the customer's branch and the actual terms applicable to the customer, supported by detailed inquiry of actual invoices overdue. 
<li>Full on-screen inquiry on a customer's account, complete with invoice details and narrative which appeared on the invoice. Inquiries on payments received will show how a payment was allocated to invoices and the difference on exchange attributable to each invoice.
<li>Full integration with stock records and general ledger -a full trail of journals for each transaction is maintained - a drill down to the general ledger transactions for each transaction on a customers account is available from the customer inquiry page.
<li>Open item - full analysis of the outstanding balance is maintained and printed on statements for maximum information to the customer.
<li>Flexible user definable sales analysis reports to pdf or spreadsheet (csv - comma separated values).
<li>Retrospective - de-allocation and re-allocation of receipts or credit notes against charges with re-calculation of differences on exchange and corresponding general ledger journals
<li>Any number of branch - delivery addresses can be added serviced by different sales people with different tax authorities and different areas for sales analysis purposes.
</ul>

<!-- Help Begin: Customers -->

<font size="+2"><b>Entering New Customers</b></font>
<br><br>
From the menu Receivables tab, click on "Add A New Customer". The customer record is the actual charge account, any number of branches can be defined for each customer account. At least one branch must be defined for each customer. It is the branch details that record the local information about delivery address, tax authority, sales area and sales person.
<br><br>
<font size="+1"><b>Customer Code</b></font>
<br><br>
This field is used as a unique identifier for the customer which is small (maximum of 10 characters of text - letters or numbers). This allows faster searches for customers and keeps the size of the database at a minimum. 
<br><br>
Note: A customer code can be altered retrospectively but because of the large scale of the changes required to the system to update stock movement transactions, sales analysis records and sales orders it could present a significant drain on resources. The option to change a customer code is in the utility menu Z_index.php - which must be entered as a manual URL and is only accessible by the system administrator. Such changes should only be undertaken when there are no other users on the system.
<br><br>
<font size="+1"><b>Customer Name</b></font>
<br><br>
The name of the customer is used extensively in lookups and appears on invoices and statements exactly as typed (searches are independent of case). Proper capitalisation and use of the full name of the customer is recommended. The maximum length of the name is 40 characters.
<br><br>
<font size="+1"><b>Address Line 1, 2, 3 and 4</b></font>
<br><br>
This is the address of where invoices and statements are to be posted. A post office box should be entered if applicable. These fields will allow a maximum of 40 characters and are optional. If left out invoices will not show the customer's address which is a requirement for a valid GST or VAT invoice in some administrations. 
<br><br>
<font size="+1"><b>Currency</b></font>
<br><br>
This is a compulsory field that identifies the currency in which the customer is to be invoiced. All invoices created for the customer will use this currency and the rate will be used as set up in the currency master - accessible from the General Ledger module. The currency rates need to be maintained at least monthly.
<br><br>
Note: that the rate is recorded in the transaction not the currency. If a customer changes the currency in which they are invoiced it is possible to allocate a new currency receipt against invoices (invoiced in the old currency) in which case the system will calculate large differences on exchange. Note: There is no error check on this and care should be taken, should this occur, to ensure invoices are matched off in the currency in which they were originally created - the cross rate between the new and old currency will provide an equivalent amount of the old currency for entry and allocation.
<br><br>
<font size="+1"><b>Invoice Discount</b></font>
<br><br>
Customers can be set up with a general level of discount which applies to all sales. The percentage entered is used by default on all invoices to the customer. The discount rate can be manually overridden at the time of invoicing, which the system will use to calculate discount. The discount percentage used at invoice time will not be stored as the future default unless the customer details are amended. This field checks to ensure that the percentage is less than 100% and greater or equal to zero. 
<br><br>
This feature is not currently used/implemented.
<br><br>
<font size="+1"><b>Prompt Payment Discount</b></font>
<br><br>
Customers can be set up with individual prompt payment discount percentages. This field is for memorandum purposes only and shows on screen when customer receipts are entered. If the receipt is on time the discount can be calculated and input with the receipt.
<br><br>
<font size="+1"><b>Customer Since</b></font>
<br><br>
The default is the current date. This field is only used on certain reports where it can be used to restrict the customers shown, and also for credit reference inquiries. The system will only accept a date in this field. The date can be altered at any time. There is no error checking on this field.
<br><br>
<font size="+1"><b>Payment Terms</b></font>
<br><br>
A select box is provided showing the predefined payment terms. New ones can be created as necessary from the Setup tab of the menu. The terms are used to determine whether an account is overdue or not and a description of the terms prints out on invoices, and statements.
<br><br>
There are no restrictions on altering payment terms for a customer at any time. The next statement or invoice produced will show the new terms. The system will only look at the new terms in deciding whether or not invoices are overdue, no record of the terms is held in the transaction itself. 
<br><br>
<font size="+1"><b>Credit Status or Rating</b></font>
<br><br>
A lookup is available for this field and a button is available for creation of new credit status categories. Credit status's can be defined to stop any new invoices or indeed orders to the customer - irrespective of his/her credit limit.
<br><br>
A customers Credit Status can be altered at any time. 
<br><br>
Note: This will never show on any reports invoices, credits or statement intended for the customers eyes.
<br><br>
<font size="+1"><b>Credit Limit</b></font>
<br><br>
This is a required field which accepts any positive value. It is currently only for memorandum purposes.
<br><br>
<font size="+1"><b>Invoice Addressing</b></font>
<br><br>
This field is a flag that has two choices:
<br><br>
<ul>
<li>To address invoices to the head office postal address. This is the postal address from the customer record as entered above. This is the default option.
<li>To address invoices to the branch postal address. This addresses invoices charged to the customer to the branch of the customer, some customers may wish for the branch to authorise invoices before sending on to head office for payment. The branch postal address entered will be used for printing invoices.
</ul>

<!-- Help End: Customers -->

<!-- Help Begin: CustomerBranches -->

<font size="+2"><b>Entering Customer Branches</b></font>
<br><br>
A customer code entered on its own is insufficient to enter sales orders against. All customers must have at least one branch. The branch records contain the information about the delivery address, the sales area, the tax code, the sales representative and other regional information. New branches can be set up at any time. The first step will always be to select the customer, then to Add/Edit/Delete Customer Branch Records from the Customer menu. There is no limit to the number of branches that can be referenced against a single charge account (customer record). However, branches cannot be transferred between different customers. Only one statement will print per customer, but each invoice will be referenced to the branch it was delivered to.
<br><br>
<font size="+1"><b>Branch Name</b></font>
<br><br> 
The branch name can be up to 40 characters long. The branch name is used on packing slips to identify the name to where delivery should be made. It is also used in lookups in sales order entry as it is to the branch that the sale is ordered against. By selecting the branch from this lookup, the customer code and branch code is returned to the system for storing against the order.
<br><br>
<font size="+1"><b>Branch Code</b></font>
<br><br>
The branch code is stored in transactions. It can be up to 10 characters long and should uniquely identify the branch. Two branches cannot have the same code for the same customer. Branch codes (and other codes) cannot contain spaces, commas, & or - . There are checks in place to ensure no new codes are created containing these characters. However, if data is imported it is important to change any codes which contravene these rules.
<br><br>
Branch codes are not available for modification retrospectively. They exist in many tables throughout the database - sales analysis, orders, DebtorTrans and CustTrans and all data in these tables would need to be modified.
<br><br>
<font size="+1"><b>Branch Contact / Phone / Fax / Address</b></font>
<br><br>
The branch contact is the name of the purchasing manager to whom goods and inquiries would be addressed at the branch. A head office branch could be created to identify contact names for account inquiries. It doesn't matter that such a branch may not be invoiced to.
<br><br>
The address is the physical address of the branch for deliveries. As much detail as is required on labels to get the goods to the desired destination should be entered.
<br><br>
<font size="+1"><b>Sales Person</b></font>
<br><br>
A select box is available to enter the salesperson who services this branch. 
<br><br>
<font size="+1"><b>Draw Stock From</b></font>
<br><br>
Branches local to a particular warehouse can be associated with the local warehouse by setting this field to the preferred stocking location. This affects the entry of sales orders that default to the stock location entered here. It can be overridden at the time of order entry.
<br><br>
<font size="+1"><b>Forward Date From A Day In The Month</b></font>
<br><br>
This field is not currently used.
<br><br>
<font size="+1"><b>Delivery Days</b></font>
<br><br>
This field is not currently used.
<br><br>
<font size="+1"><b>Phone/Fax/Email</b></font>
<br><br>
These are the contact details applicable to the branch.
<br><br>
<font size="+1"><b>Tax Authority</b></font>
<br><br>
The tax authority of the branch determines the regime for tax calculations at invoice and credit time. 
<br><br>
Tax Authorities are the authority that collects the taxes. Different authorities in different countries mainly or different states in the USA. Say sales tax in New York is 10% and sales to customers in Michigan attract sales tax at a different rate payable to a different state tax authority. 
<br><br>
In the UK, Australia and NZ, the Inland Revenue, Australian Tax Office and  the IRD are the relevant tax authorities. Sales to customers that fall under the ATO from a company in NZ do not attract any tax - ie exempt export. However, the same customer who has a branch in Auckland NZ will fall under a different tax authority the NZ IRD - attracting GST @ 12.5% for the same item delivered there. 
<br><br>
So the tax authority is the factor relevant based on where the branch of the customer is who is receiving the supply.
<br><br>
The tax authorities are maintained in a separate table (available from the Setup tab) and the tax rate applicable to invoices and credits and the general ledger posting of tax is determined from the Tax Authority setting of the branch together with the applicable level of tax specified in the item (stock) master. 
<br><br>
A select box allows the appropriate tax authority for the branch to be selected.
<br><br>
<font size="+1"><b>Disable Transactions</b></font>
<br><br>
This flag - either enabled or disabled - either includes the branch as available for new sales orders or not. If it is set to disabled then the branch will not appear on the order entry branch lookup.
<br><br>
<font size="+1"><b>Default Freight Company</b></font>
<br><br>
A select box allows the selection of the freight company that is most cost/service effective for deliveries to this branch. The entry in this field serves as the default for future sales orders. If it is changed at order entry stage, the overridden entry become the new entry for this field.
<br><br>
<font size="+1"><b>Postal Address 1, 2, 3 and 4</b></font>
<br><br>
This is the postal address of the branch. There is no checking done to ensure this is entered. The only place this would be used is if the customer record required that invoices and credits be addressed to the branch.

<!-- Help End: CustomerBranches -->

<br><br>

<!-- Help Begin: Customers -->

<font size="+2"><b>Amending Customer Details</b></font>
<br><br>
The customer details can be modified at any time and any modifications made will be effective for all future transactions. First select the customer from the link provided on all pages, then select the link for Modify Customer Details. 
<br><br>
Points to note:
<br><br>
<ul>
<li>Customer codes can be modified retrospectively using the facility in the utilities menu Z_index.php - this should be used only when all other users are off the system.
<li>Changing the payment terms impacts immediately on the aged analysis since this is recalculated each time it is run or a statement is produced.
<li>Changing the currency of the customer needs care since the exchange rate is recorded against each transaction. Allocations of one currency against another at different rates will produce differences on exchange. The system will not be able to distinguish at the transactions level which was in what currency only the rate against the functional currency.
</ul>
<font size="+2"><b>Salesperson Records</b></font>
<br><br>
Salesperson details can be entered or amended from the setup tab of the main menu.
<br><br>
<font size="+1"><b>Salespeople Code</b></font>
<br><br>
This field can accept any text or numbers up to a maximum of 3 characters - normally the initials of the salesperson or some reference to the area NW1,SW2 would suffice. These salespeople codes are stored against each branch to identify who services them. actual
<br><br>
Note: The salesperson code is not held against individual transactions. This means that if there is any change to a salesperson for an area and you wish to calculate commissions up to the change and after for the new salespeople, the dates of transactions must be used. However, sales analysis records created at the time of invoicing and crediting are created including a copy of the salesperson code applicable at the time of invoicing. Sales analysis reports will thus show who made sales based on the historical representative settings.
<br><br>
<font size="+1"><b>Salesperson Name, Telephone and Fax Numbers</b></font>
<br><br>
The salesperson name is what appears in the look-ups on the customers' branch maintenance page. It is also used for inquiries and reports. By default it shows on invoices and statements, to remind customers where they can contact their local agent for sales inquiries.
<br><br>
The name can be any character to a maximum of 30 characters. The phone number and fax number fields can be a maximum of 20 characters long. 
<br><br>
<font size="+1"><b>Salesperson Commission Rates and Breakpoint</b></font>
<br><br>
The system allows for input of these items as the basis of commission calculations. Most businesses have different ways of calculating commissions. For this reason it is left to the business to write a report which will use these fields (and/or additional ones) to calculate commission according to traditional company policy.
<br><br>
<font size="+2"><b>Sales Types/ Price Lists</b></font>
<br><br>
Sales types are the broad categories which sales fall under, they should not be confused with stock categories. They are arbitrary headings for the different pricing arrangements applicable to each type of customer. For example the fashion house might have sales types for:
<br><br>
<ul>
<li>Indented sales - ordered in advance.
<li>Stock sales - sold from stock.
<li>Made to Measure - sales made up especially for a customer.
</ul>
Inventory categories by contrast refer to the type of garment sold. Each customer is defined as belonging to a specific sales type. A sales type could also be used for groupings of customers. Price lists are held against sales types so all customers defined as belonging to the sales type will be on the same pricing.
<br><br>
Pricing can be set up for each stock item by sales type (and currency), e.g. stock sales would attract a premium for the cost of the increased working capital required or perhaps a discount reflecting the scale of purchasing allowed on volume lines. Sales types for retail, wholesale, trade, special may also be appropriate in other types of business.
<br><br>
New sales types/price lists can be added and existing ones amended from setup tab, "Sales Type Maintenance"
<br><br>
<font size="+1"><b>Sales Type Code</b></font>
<br><br>
This is a 2 character code which is stored against the customer to define the sales type applicable to the customer. It must be unique across all sales types. When entering orders the customer sales type is the key, together with the customer's currency that determines the price list to use.
<br><br>
<font size="+1"><b>Sales Type Description</b></font>
<br><br>
20 characters of text are allowed to describe the sales type. This field is used to describe the sales type / price list applicable to the customer.
<br><br>
<font size="+2"><b>Payment Terms</b></font>
<br><br>
For each customer the payment terms which the business deals with them under must be specified. This provides the information required to monitor whether the account is due or not - ie for Overdue inquiries and reports. Also, the invoices, credit notes and statements, contain reference to these terms so he/she is continually reminded of these terms with every transaction as a matter of course.
<br><br>
Payment terms can take one of two forms:
<br><br>
<ul>
<li>Due after a specified number of days after invoice.
<li>Due on a day in the month following invoice
</ul>
The system allows the definition of a payment terms record either way. 
<br><br>
Note: The overdue report and inquiries use the estimated number of days to deliver in the branch record to determine when the customer received the goods, the payment terms are added to the day when delivery was effected.
<br><br>
<font size="+1"><b>Payment Terms Code</b></font>
<br><br>
This is the code which is used by the system internally to reference the payment terms applicable to a customer. Alterations to this code will cascade through all the customers set up with the code being amended. If there are a lot of customers set up with this code it could take a moment to update all customers.
<br><br>
It is a 2 character text field.
<br><br>
<font size="+1"><b>Payment Terms Description</b></font>
<br><br>
This field (40 characters of text) shows on customers statements, invoices and lookups in the inquiries and selection forms. It should describe as succinctly as possible the payment terms.
<br><br>
<font size="+1"><b>Days Before Due / Day In Following Month When Due</b></font>
<br><br>
Only one of these fields needs to be entered depending on the selection in the bullet options. If the terms are after a number of days, then the field expects the number of days after which the invoice becomes due. Alternatively, the day in the following month when the invoice will fall due (greater than or equal to 0 and less than or equal to 30). These figures are used to calculate whether or not an invoice is overdue for the overdue reports and inquiries.
<br><br>
These fields expect a number - other characters are not accepted.

<!-- Help End: Customers -->

<br><br>

<!-- Help Begin: Shippers -->

<font size="+2"><b>Shippers</b></font>
<br><br>
This table is only used as a reference to the method of transportation that the invoice delivery was effected by. The shippers name is what is used in the look ups and the code is a system maintained counter which is stored in the database to reference the freight company used. The consignment note reference can be stored against the transaction in the reference field. In this way a full proof of delivery trail can be maintained. 
<br><br>
Shipment cost calculations can be automated and the result automatically added to invoices. The least cost shipper is calculated and modified on the order. This system requires active maintenance of the shipment costs tables for each shipper. The shipper costs table shows the cost per kg and metre cubed for freight to destination cities. A substantial amount of data is required. For the system to calculate freight, it also requires that each part have a defined volume and weight set up from which the total order weight and volume is determined for use in the freight calculations.
<br><br>
If freight cost calculations are to be performed at order entry stage, the data must be entered and the options in config.php enabled - see the config.php section.

<!-- Help End: Shippers -->

<br><br>

<!-- Help Begin: CreditStatus -->

<font size="+2"><b>Credit Status Ratings</b></font>
<br><br>
Each customer can be given a credit status that describes the risk as assessed by the credit controller, attached to invoices to the customer. This will never appear on any reports to customers. The customer selection screen allows customers to be restricted by their credit status so it is easy to perform inquiries on all the customers with a similar credit status. In addition the system will not allow invoices to customers whose credit status has a check in the field to prohibit invoicing. This is another credit control tool to the credit limit. 
<br><br>
Credit Status Ratings can be amended and created from the main menu set up tab from the link labelled Credit Status Maintenance.
<br><br>
<font size="+1"><b>Status Code</b></font>
<br><br>
This is any number from 1 to 100. A rating code is required to be held against every customer to identify the credit status of each. The code cannot be changed retrospectively.
<br><br>
<font size="+1"><b>Status Description</b></font>
<br><br>
This field is used in look ups both in the customers amendment/entry and also in the customer selection screen. This is a text field up to 30 characters long.
<br><br>
<font size="+1"><b>Disallow Invoices</b></font>
<br><br>
For all credit ratings set up, this field indicates whether or not the rating is serious enough to prohibit future invoicing to customers set up with this credit rating.

<!-- Help End: CreditStatus -->

<br><br>

<!-- Help Begin: TaxAuthorities -->

<font size="+2"><b>Tax Calculations</b></font>
<br><br>
<font size="+1"><b>Overview</b></font>
<br><br>
Many countries and states have varying methods for the calculation of ad-valorem taxes on sales. There is some flexibility in the configuration of how these automatic calculations are made and to which general ledger accounts the postings are made to. If all else fails tax rates can be entered by line of the invoice or credit as necessary. Different rates of tax can be applied to each line item individually depending on:
<br><br>
<ol>
<li>Where the branch is that is to invoiced.
<li>What the item being invoiced is - e.g. In many states reduced rates of taxes apply to the more essential items for basic sustenance.
<li>From where the item is dispatched i.e. the warehouse  from which the goods are picked. The tax legislation in most countries require that supplies made within the country attract tax - GST/VAT or whatever.
</ol>
<font size="+1"><b>Setting up Taxes</b></font>
<br><br>
<ul>
<li>All the tax authorities under which goods are to be sold must be defined in the tax authorities table under the set up tab. The tax authority record requires the specification of the general ledger account codes where purchase tax is to be posted and where sales taxes are to be posted to, as well as a description as to what the tax authority is called. eg. UK Inland Revenue VAT, ATO -GST(Australia), NZ IRD-GST (New Zealand). If there are several ways in which taxes can be defined within a single authority then it is appropriate to set up another authority. One example might be the Netherlands where as well as charging tax (at 3 different levels) it is possible to dispatch goods to a customer in the Netherlands - from a warehouse in the Netherlands without adding tax to the invoice where the customer has an exemption arrangement and has agreed to pay the VAT on its purchases  themselves directly to the Dutch revenue authority.
<li>Each customer branch is defined as falling under a particular taxing authority. The tax authority is the state body responsible for the collection of taxes. Note that the tax authority is not held against a particular charge account - customer account. It is the branch where the goods are delivered to which is important in determining how the tax calculations work, so it is the branch that is defined as within a particular tax authority.
<li>Each stocking location or warehouse is also defined as within a particular tax authority. This is specified from the locations maintenance form.
<li>Each stock item is defined as being subject to tax at a particular "tax level". The tax level is set in the stock item maintenance screen. In setting the tax level for each item some thought is required as to the taxing of the item under different authorities. Most tax authorities have just two rates of tax applicable i.e. 0% and the normal tax rate eg. 10% for Australia, 12.5% New Zealand. However, in some authorities there may be several tiered rates - the Netherlands has three rates of tax. The levels set for the items must be set based on the requirements of the tax authority (which the business requires goods to be sold within) with the most tax levels. The tax level entered against each stock item is entered against the stock master record. It is simply a number from 0 to 9 and defaults to 1.
<li>The applicable rates of tax then need to be defined. A rate is required for supplies from each Stock Location Tax Authority to each of the defined Tax Authorities and Tax Levels. It is this table of rates that allows the system to determine the rate applicable to each line item invoiced, based on the branch to which the item is to be supplied, the item itself and the location from where the goods are delivered.
</ul>
<b>Sales only within one Tax Authority Example - 2 Tax Levels:</b>
<br><br>
In most tax authorities there are just two rates of tax 0% and some other rate lets say 10%. Sales to export customers will not be taxable as they are exempt. If the business simply operates in the one country, then things are very simple. Items that are zero rated have the stock master record modified to give them a tax level of 2. All other taxable items have the default tax level of 1.  Two Tax Authorities are defined, the first the country in which it operates and the other called Export. Customer branch records must be set with the Tax Authority of the country or Export. The location record of each of the warehouses is defined as being the country tax authority. Now the rates applicable to export tax authority will all be 0 for tax level 1 and tax level 2. The rate of tax applicable to the country tax authority will be 10% for level 1 and 0% for level 2.
<br><br>
<b>Sales only within one Tax Authority Example - 3 Tax Levels:</b>
<br><br>
Maybe zero-rated for food and 5% on clothing and 10% on all other goods. The tax rate of all food items should be set to say 2 and the tax rate of all clothing items set to 3 - all other taxable items at the full rate set to a tax level of 1. The tax rates for the country tax authority for tax level 1 set to 10%, level 2 0% and level 3 5%.
<br><br>
<b>Sales Within Two Tax Authorities Example - 3 Tax Levels:</b>
<br><br>
The business has a warehouse in another country - (Tax Authority A) or state with a different revenue collection authority and one authority has two levels and the other has 3 levels (Tax Authority B) as in the two examples above. Rates need to be defined for deliveries from each warehouse to customer branches in each tax authority. In most cases the rate of tax applicable to exports will be 0% - exempt. Tax Authority A will have entries applicable to deliveries within Tax Authority A for each of the 3 tax levels (even though only 2 are applicable - the rate for level 3 will be the same as 1) and also for deliveries to Tax Authority B. Tax Authority B will have rates set up for each level for deliveries within Tax Authority B and also for deliveries to Tax Authority A - the later rates will most likely be 0%.
<br><br>
The logic used in determining the rate to be used is as follows:
<br><br>
The TaxAuthority of the warehouse the goods are delivered from, the TaxLevel of the item and the Tax Authority of the branch of the customer being delivered to are determined. Using all three of these factors the rate is returned from the TaxAuthLevels table.
<br><br>
General ledger posting relating to the taxes calculated are made in accordance with the codes set up in the Tax Authority table.

<!-- Help End: TaxAuthorities -->

<br><br>

<!-- Help Begin: Prices -->

<font size="+2"><b>Pricing and Discounting</b></font>
<br><br>
<font size="+1"><b>Overview</b></font>
<br><br>
Prices are held by Sales Type and Currency. When setting up a customer account the sales type applicable to the customer is defined as is the currency applicable to invoices to the customer. There is no limit to the number of sales types that can be defined and therefore no limit to the number of different price lists that can be maintained. Further flexibility is available in that where necessary prices specific to a customer can also be defined, normally pricing will be specific to a customer but the system also has the capability of making prices specific to a particular branch of a customer. If a price is flagged as specific to a branch it will not be used for all other sales of the item to the customer, the default price of the item will be used. Further flexibility in discounting is available through the discount matrix (see below). If an item has an additional discount this can be entered at the time of order. The user also has the ability to change the price manually at the time of order. Sales analysis records allow reporting on sales types, so the analysis will report the volume of business done under each set of special pricing arrangements. 
<br><br>
<font size="+1"><b>Maintaining Prices</b></font>
<br><br>
To maintain pricing, first an item must be selected. This can be done from the link "Select an Item " on any page or from the inventory tab of the menu the link "Modify Or Delete An Inventory Item Or Item Pricing" allows for a part to be selected. Once selected the options available to work with the item are shown, there is a link to "Maintain Pricing". The pricing page displays, the sales type and the currency of all prices defined for the item. The existing prices can be deleted or modified from this screen and new prices can be entered. It is not possible to enter two prices for the same sales type and currency.
<br><br>
To enter prices for a specific customer and branch, the customer must first be selected. (See selecting customers). Going to the select an item page after having selected an item now shows an additional link to maintain the special pricing "Special Prices for customer - customer code". Clicking this link shows, the normal price for the sales type and currency of the customer selected and any special prices defined for this item/customer combination. If no special pricing is defined then the page shows only the normal price with a note that no special pricing is defined for this item and allows entry of the new special price. If a special price exists then it can be deleted or changed. A customer with many branches can have a special price for each branch or just a single branch having a special price beyond the special customer price. A special price applicable to only one branch will not apply to any of the other branches. Also, a special price set up for the customer account but with a blank branch field will apply to all branches unless there is a specific price set up for the branch.
<br><br>
Prices can be amended at any time. However, changes to a price do not automatically cascade into sales orders for the item that are yet to be delivered, these would have to be changed manually as necessary.
<br><br>
There is a utility page that has some options for making bulk changes to pricing avoiding extensive re-keying exercises. Great care should be taken with this facility. System administrator permission is required to access this page accordingly.
<br><br>
The script is called: Z_PriceChanges.php and is accessed from the Utilities index Z_index.php
<br><br>
This script allows bulk increase/decreases by percentage for specific or a range of stock categories and for specific sales types. There is the opportunity to update the pricing:
<br><br>
<ul>
<li>For all prices for the sales type within the stock categories selected or
<li>For only the default prices for the sales type within the stock categories selected or
<li>For the selected customer special prices - provided the customer selected belongs to the sales type selected in the bulk change screen.
</ul>
Equally flexible options exist for printing price lists from the main menu under the orders tab under inquiries and reports.
<br><br>
<font size="+1"><b>Discount Matrix</b></font>
<br><br>
The discount matrix allows discounts to be set for quantity breaks across a range of products. Eg a business selling pens may have red, blue, black etc but offer a discount for orders greater than 100 irrespective of colour - even though these are separate items.
<br><br>
Items to have such discounting must be specified in the stock item details screen as belonging to the same Discount Category - this is a 2 character field in the stock master table. In the example above the item codes for blue, red and black pens should all be set to the same 2 character code.
<br><br>
Customers to whom the discount structure should apply are specified by the sales type (the price list) field. The entry in the Discount Matrix table should refer to the sales type and the 2 character DiscountCategory of parts, the quantity above which the discount is to apply and the rate of discount applicable. Several entries in the discount matrix can be made at increasing discounts and volumes, for the same Discount Category and Sales Type.
<br><br>
When an order is entered the system automatically reads the Discount Category of the parts and accumulates the quantities of like Discount Category parts to see if the order lines qualify for the discount. If special discount has been entered exceeding the discount matrix calculated rate - the higher manual entry over-rides the calculation. However, discount manually entered which is below the discount matrix calculation will be uplifted to the discount matrix rate.
<br><br>
To set up the discount matrix there are two elements:
<br><br>
<ol>
<li>The discount categories - need to be defined. Individual stock items can be modified in the stock details form or a special facility is available under the set up tab of the main menu - under the inventory set up section. This screen allows stock codes to be entered and verified before changing to the selected discount category.
<li>The discount matrix itself. This is modified from a link on the set up tab under accounts receivable set up. For each sales type/price list the quantity break and discount applicable must be entered.
</ol>

<!-- Help End: Prices -->

<!-- Help Begin: SelectSalesOrder -->

<font size="+2"><b>Invoicing An Order</b></font>
<br><br>
<font size="+1"><b>Selecting an Order To Invoice</b></font>
<br><br>
All invoices require a sales order to be entered first. 
<br><br>
From the main menu select the orders tab. Select Outstanding Sales Orders Maintenance. This page shows all the orders outstanding. If the order number is known it can be entered on this screen to select the order to invoice. Hit search orders and the order should show below, together with links to modify the order, print the packing slip and to invoice. Click the link to invoice the order.
<br><br>
<font size="+1"><b>Producing An Invoice From A Selected Order</b></font>
<br><br>
Having selected an order to invoice the order line comes up for confirming the quantities of the order that were dispatched. If the quantity dispatched differs from the order the difference is recorded in the table OrderDeliveryDifferencesLog - and a report is available to show the orders that were not able to be delivered with the first dispatch. There is also opportunity to enter the freight charge and if necessary enter the tax charge - which will normally be calculated automatically based on the tax authority of the customer branch being invoiced. The date of the invoice is defaulted based on the time of day and the settings in config.php. If the hour (in 24 hour format) is after the setting of $DispatchCutOffTime in config.php, then the following day is deemed to be the invoice date, alternatively the invoice date will default to today. Where not all lines on the order are being invoiced there are two choices with how to deal with the balance. 
<br><br>
<ul>
<li>Put the balance on back order
<li>Cancel the line on the order
</ul>
Finally there is also a field for entry of any text on the invoice. Hitting the process invoice button updates the order as instructed and produces all the entries including general ledger postings (if integration is enabled in the company preferences screen - see setup) to record the invoice. Until the process invoice button is hit, no entries have been saved to the database and it is safe to leave the page at any stage without having changed anything - the invoicing process can be cancelled at any time simply by following a link to another page. The processing that takes place once the Process Invoice button is hit includes:
<br><br>
<ul>
<li>Creation of the stock movements for each line item on the order - or for the assemblies components - from the location entered at the time of the order, at the price as per the order. 
<li>Creation of the DebtorTrans record that records the invoice against the customer's account.
<li>Creation of the general ledger jorunals to record the sale and debtor etc.
<li>Updating the order for amounts dispatched, and the invoice number.
<li>Creating/updating the sales analysis records of the items being sold.
<li>Updating the stock quantities for all lines of the invoice and the components of all assemblies included on the order.
</ul>
If the order is not to be invoiced to the customer or branch specified in the order, or pricing is to be changed then the order must be changed. These elements cannot be altered at the time of invoice, they must be altered in the order before it is confirmed for invoicing. Once an invoice is created it cannot be deleted or modified. The order is also updated with the invoice number that it was dispatched on.

<!-- Help End: SelectSalesOrder -->

<br><br>

<!-- Help Begin: SelectCreditItems -->

<font size="+2"><b>Credit Notes</b></font>
<br><br>
Credit notes can be created in one of two ways:
<br><br>
<ul>
<li>From a customer inquiry screen if the user has the necessary permissions ( $PageSecurity=3 - see Security Schema) a link shows to allow an entire invoice to be credited. Having clicked this link there is opportunity to de-select some items from being credited so that only the part of the invoice that needs to be credited can be, with only minimal keying. The same credit note creation page as used in manual creation of credit notes will appear but with all the items from the orignal invoice already entered into the credit note.
<li>Using the link on the main menu under the receivables tab, select the link to create a credit note. 
</ul>
<b>Important Note:</b>
<br><br>
It is important to use credit notes to correct incorrect invoices correctly. Crediting a small price against a part implies that the goods were returned and the customer only credited a fraction of their worth. This is not the correct way to credit an overcharge. By default credit notes return the stock to the location specified, so the stock records will be overstated by the goods returned to stock by the credit note. To correct a pricing error a credit note for the invoice line at the incorrect charge must be done and a new invoice at the correct charge must be made up. This ensures that sales analysis records are not corrupted for the quantities sold and that stock records are maintained correctly. A special pricing adjustment type of credit note is available that does not have any cost implications for the sales analysis and has no stock physical movement record associated with it.
<br><br>
The process for creating a credit note manually is:
<br><br>
<ul>
<li>Select the customer to be credited, there are the usual selection options (a box to enter an extract of the customer's name and a box to enter an extract of the customer's code) 
<li>Select the items to be credited and the prices to be used in crediting the customer - the same quick entry option is available as is used in order entry. - where the part code and quantity to be credited is entered directly. Pricing is automatically determined by reference to the customer's sales type, currency with regard to any special pricing for the customer (and branch) being credited. If the search for a part functions are used, then after each part is selected the quantity can be updated after the item is selected.
<li>Having selected all the items it is possible to edit the items to be credited by clicking the button of the code of the item on the summary, then editing the price and quantity.
<li>Amounts to be credited for freight can be entered directly (this would be entered directly from the original invoice if the credit an invoice option was used from the customer inquiry screen).
<li>The tax amount to credit is calculated automatically by default based on the tax authority of the branch being credited and the total of the line items and freight to be credited. It is also possible to select the manual option. Once having selected manual, the user should hit update to allow free entry of any amount in the tax field.
<li>By default it is assumed that the goods in the credit note are being returned to stock. The location to where the goods are being returned must be selected from the selection box.
<li>If the goods are not being returned to stock, they are to be written off perhaps as samples or showroom display, damaged goods or whatever, the credit note type option should be changed to goods written off. After changing the credit note type and hitting the update button, a new select box will allow a general ledger code to be selected (assuming the general ledger interface to accounts receivable is active - it will not show if there is no integration). The appropriate general ledger code should be selected from this box. The location to return the stock to select box will disappear since it is no longer relevant. A third option is to credit a pricing adjustment - this type does not create any stock movements and the sales analysis updates only affect the value no cost of sales updates take place.
<li>Any text describing the reasons for the credit note should be entered in the narrative box provided.
<li>After completing all the inputs required, hit the Process Credit Note button to create the credit note. The created credit note number will be reported confirming that it has been processed.
</ul>

<!-- Help End: SelectCreditItems -->

<!-- Help Begin: CustomerReceipt -->

<font size="+2"><b>Entry Of Receipts</b></font>
<br><br>
This system tracks the invoices and credits which are outstanding (a so called open item system) in contrast to systems which use a balance brought forward from the previous month to add and subtract current month transactions. Experience has shown balance forward systems whilst intuitive, often result in queries for more information with the inevitable question from customers "what was this balance made up of ?" . The statements produced by this system show a full reconciliation of the amounts outstanding against invoices and credits that are yet to be settled totalling the amount of the customer's account. In order to provide the necessary information to track outstanding amounts, invoice by invoice, the detail of the make up of payments must be entered.
<br><br>
Payments received from customers are therefore entered in a two-stage process:
<br><br>
<ul>
<li>The amount of the payment received is entered in foreign currency together with the exchange rate at which this has been banked into local currency. Any details pertinent to the receipt such as the date, method of payment and any details (which can be recalled from inquiries later) are entered at this stage.
<li>The foreign currency received is allocated to the invoices (and debit journals) on the customer's account. Put another way, the invoices that the payment is meant to be settling are matched off against the payment.
</ul>
If the details of the make up of a payment received are not available at the time of banking, the receipt can still be entered to stage 1. However, the allocation must be done before the statement is produced if the account is to make sense.
<br><br>
Note: Differences on exchange are only calculated once the receipt is matched against the invoices it is paying.
<br><br>
Receipts relating to general ledger transactions can also be entered in the same batch as customer receipts.
<br><br>
The process of entering receipts is initiated from the main menu under the receivables tab - another link is also available from the general ledger tab. 
<br><br>
Firstly, the receipt header information is required, the bank account - one of the previously defined bank accounts (see setup), the date the batch of receipts are banked, the currency and exchange rate of the banking and the type of receipt together with any narrative. The currency can be selected from the defined currencies (see setup). The receipt types can also be selected - they are defined in config.php. Once this information is entered it must be accepted before the receipts in the batch can be entered.
<br><br>
<font size="+1"><b>Receipt - Customer</b></font>
<br><br> 
By default once the a customer has been selected the following information is displayed:
<br><br>
<ul>
<li>The payment terms applicable, so amounts overdue can be easily noted from the allocation screen without having to go back and do an inquiry.
<li>The payment discount percentage applicable. The user can then use this rate if applicable to calculate the discount applicable, depending on how much of the payment relates to "on time" invoices.
<li>The currency that the currency is paying in.
</ul>
<font size="+1"><b>Receipt - Date</b></font>
<br><br>
The date that the receipt was received and banked. If a receipt is being entered retrospectively - or several days bankings are being done together, the default date (i.e. the current date) should be over written with the date the receipt was originally received. This date is used on the statement and the customer may not be able to tie up the receipt if an incorrect date is entered.
<br><br>
Customer account inquiries are shown in date order so the account will not show correctly if the date entered is not the date the money was received. The date is also used in the general ledger transaction created.
<br><br>
<font size="+1"><b>Receipts - Currency and Exchange Rate</b></font>
<br><br>
Selection of the customer automatically tells the system which currency to expect the receipt in. The customer's account is maintained in the currency selected in the customer maintenance screen. 
<br><br>
The correct rate at which the bank has converted the foreign currency to local currency must be input, the system shows the calculation of the local currency banked at the bottom of the screen. The receipt cannot (therefore) be entered until the amount in local currency is known. The exact rate to enter in this field will be the foreign currency figure divided by the local currency figure.
<br><br>
Eg banked 1212 local, in customer's currency this was 400. 
<br><br>
Rate is 400/1212 = 0.330033
<br><br>
The local currency calculated by the system should confirm that the rate entered is correct. The general ledger integration - if enabled - will produce a bank deposit for the local currency amount shown at the bottom of the screen, and reduce (credit) the Debtors Control account by the same amount. The system defaults the exchange rate to that set up against the currency in the currencies table.
<br><br>
When the receipt is matched to invoices, any differences between the local currency amounts banked against the local currency invoiced are recorded against the invoices and written off the general ledger Debtors Control Account and written into the profit and loss account - (specified in the company record of the customer concerned) if the general ledger integration is enabled from the module options screen.
<br><br>
<font size="+1"><b>Receipts - Payment Method</b></font>
<br><br>
The payment method is stored against the receipt and shows on the customer's statement. A banking report can also be run off based on the payment method to summarise the day's bankings, to automate the task of collating the different vouchers and summarising for the bank.
<br><br>
<font size="+1"><b>Receipts - Amount</b></font>
<br><br>
The amount of the receipt in foreign currency is entered here. This cannot be 0. Although, negative receipts are allowed (to reverse incorrect receipts). 
<br><br>
Note: Care should be taken when allocating negative receipts to ensure that only previous allocations are reversed, strange results could occur if allocations are made to invoices not previously allocated to positive receipts - although system integrity will be maintained.
<br><br>
<font size="+1"><b>Receipts - Discount</b></font>
<br><br>
The amount of discount on a receipt can be entered at this point and allocated together with the receipt as one amount. This is useful, where a customer pays an amount net of discount - quite correctly according to his terms and conditions, and the amount naturally will not tie up to invoices on its own without the addition of the discount. The system calculates the gross amount of the payment including discount to set off the customer's account.
<br><br>
<font size="+1"><b>Receipts - Allocating to Invoices</b></font>
<br><br>
Once all the details necessary have been entered for the receipt - the customer, the exchange rate and the amount in foreign currency, the receipt is ready to be allocated to the invoices which is to settle.
<br><br>
This concept can seem strange to businesses that have previously operated customer accounts where they are only interested in the current months' transactions and the balance brought forward from last month. The aim of this system is to remove the question from the customer's lips ... "What is that figure, balance brought forward made up of?". Under the "Balance Forward" system this question can be a tough one to answer, since there is no record of which invoices were paid by which payment. However, this system needs explicit instructions for each receipt on which transactions should be settled as a result.
<br><br>
From the menu under the Accounts Receivable tab - Click on the link to Allocate Receipts or Credits.
<br><br>
This page shows all outstanding receipts and credits that are yet to be allocated. Clicking on the links against these receipts and credits takes the user to the outstanding transactions on the customers account that are available for allocation. This screen shows all unallocated transactions but only invoices are available to allocate the receipt or credit note to.
<br><br>
Note that allocations of a receipt are not allowed to another receipt. If necessary, negative receipts can be used to reverse allocation against invoices and debit journals (although this is undesirable). Once entered, receipts cannot be deleted - (obviously this would be undesirable from the standpoint of proper internal controls).
<br><br>
If the whole of the receipt is not matched off against (allocated to) invoices and debit journals the system will prompt to ensure that this is what was intended. Unlike many systems, allocations can always be completed or amended later.
<br><br>
<font size="+1"><b>Differences on Exchange</b></font>
<br><br>
The process of allocating receipts to invoices gives the system the information necessary to calculate the difference on exchange since the receipt converted at the rate specified in the receipt screen will equate to a different amount to the local currency equivalent of the invoices it is matched to, unless both the receipt and the invoices it is allocated to are converted at the same rate. 
<br><br>
The difference calculated at the time of allocation can be seen on the receipt screen once the allocations are done and the screen closed and is itemised against the invoices to which it is allocated against. Unlike many systems the difference on exchange can be fully itemised transaction by transaction. Inquiries on the detail of receipts show the difference on exchange that the receipt is responsible for. Further the inquiry on where the receipt was allocated to will show the analysis of where the difference on exchange for the receipt under review came from.
<br><br>
Alterations to the allocations naturally alter the difference on exchange. The general ledger interface produces a journal for only the movement of the difference on exchange for a given receipt each time its allocations are altered.
<br><br>
<font size="+1"><b>Receipts Processing</b></font>
<br><br>
Many customer receipts can be entered at a time and mixed together with receipts for nominal items i.e. receipts from vending machine or sales of fixed assets reimbursement for private use of company assets etc. Once all receipts have been entered the processing can take place. The system only stores the data entered in a server side cookie called a session until such time as the Process button is clicked. 
<br><br>
The processing will give the batch of receipts a number and insert new receipt transactions against customer accounts and update the customer's record with the amount of and the date of the last payment. In addition if the general ledger interface is enabled, the journals to put the receipt into the bank account specified and to decrease the Debtors control account - specified in the company record are created. General Ledger journals are also created for the discount - if any, with the corresponding entry to the Debtors Control account. All the necessary account codes must be set up in the company preferences page under the setup tab and the bank account set up page.
<br><br>
<font size="+1"><b>Deposits Listing</b></font>
<br><br>
After processing has completed a link to print the deposit listing for the batch of receipts just entered is shown. The batch number is also reported. The listing shows the information required by banks in processing a batch of cheques. This deposit listing can be reprinted at any time from a link under the accounts receivable tab - reports and inquiries.

<!-- Help End: CustomerReceipt -->

<br><br>

<!-- Help Begin: CustomerAllocations -->

<font size="+2"><b>Allocate Credits To A Customer's Account</b></font>
<br><br>
This option allows any credit amount - be it a receipt or a credit notes to be allocated to debit amounts - invoices . Receipts or credits that have previously been allocated are available for alteration of their allocations if necessary. There are two ways to perform this function:
<br><br>
<ul>
<li>From the menu select the accounts receivable tab and click the link to "Allocate Credits To Customer's Account". 
<li>From the customer account inquiry - there is a link to allocate any customer receipt or credit where the user has appropriate privileges.
</ul>
Using the first method, by default the screen opens with only the receipts, credit notes and credit journals which have an amount outstanding left to allocate. If there are many receipts which have amounts outstanding and are not fully allocated to invoices and debit journals then this is an indication that there are allocations which need to be done. For the customer's statements to make sense, the allocations must be done. 
<br><br>
Double clicking the receipt to allocate will then open the form that allows the allocations to be made. This screen brings up all the invoices and journals that are outstanding on this customer's account. Invoices that have already been paid off will not show. However, existing allocations made from the selected receipt or credit will show. Clicking a receipt or credit note from the customer inquiry screen brings up this same page.
<br><br>
If a mistake was made with previous allocations these can be rectified by selecting the previous receipt which was wrongly allocated, all the invoices which the receipt was allocated to will show (together with other invoices which are yet to be allocated to). The amounts allocated against them can be amended at will.
<br><br>
Note: This is a complex area behind the scenes, to handle the changes that may result to the difference on exchange. The system calculates the alteration to the exchange difference which results from allocating the receipt to different invoices (or not being allocated at all) and creates the necessary journal in the general ledger - if the integration option is used - to ensure the debtors control account stays in balance with the list of balances. 
<br><br>
<b>It is recommended that help be sought if alterations in the program are required in this area.</b>

<!-- Help End: CustomerAllocations -->

<br><br>

<!-- Help Begin: CustomerInquiry -->

<font size="+2"><b>Customer Inquiries</b></font>
<br><br>
Complete "drill down" inquiries are available to extract the full detail of transactions. The system maintains more data than many systems, preferring to minimise the use of consolidated or batch entries, in favour of the full detail of each transaction. The enquires can show the account history for a customer and from this inquiry it is possible to look at the details behind each transaction, from the detail of the transaction it is possible to look at the line items on the original invoice and which receipts paid the invoice. The original invoice or credit can be viewed directly from customer inquiries and the general ledger transactions that were created by the invoice, credit or receipt may also be inspected.
<br><br>
<font size="+1"><b>Customer Account inquiries</b></font>
<br><br>
From any page, click the "select customer" link. Having selected the customer all links applicable to the customer show. Among them the customer transactions inquiry.
<br><br>
By default the inquiry screen shows only those transactions after a date six months ago. The default period can be modified by simple editing of the script CustomerInquiry.php. If transactions further back are required only occasionally and not by default - the date after which all transactions will show can be altered at will. When the screen opens the customer's account is shown in the currency of the customer. The aged analysis based on the customer's terms is displayed. 
<br><br>
If the transaction is an invoice or a credit note a magnifying glass icon shows on the same line as the transaction. A click on this magnifying glass then opens a new window showing the detail of the invoice or credit note.
<br><br>
If the integration to the general ledger from accounts receivable - see the option to "Create GL entries for accounts receivable transactions" from the Company Preferences page under setup - then another link with the letters GL will show. This link shows a new page with the detail of the general ledger postings created by this transaction.
<br><br>
If the transaction is a receipt or a credit note and the user has appropriate access privileges, a book icon shows. Clicking this icon takes the user to the page for allocating receipts and credits - if the receipt or credit is already allocated then the detail of how the receipt/credit was allocated is shown together with other invoices that could be used for allocating against. Invoices that have previously been allocated will not show.
<br><br>
More (or less) history can be shown by changing the "Show all transactions after:
<br><br>
" date - then clicking the refresh button. The balance on the customer's account should balance to the sum of the amounts outstanding. The amount outstanding is used to represent:
<br><br>
<ul>
<li>For Invoices, the amount which has not yet been settled by receipts or credit notes
<li>For Receipts, the amount which has yet to be allocated (or matched off) against invoices.
</ul>
<font size="+1"><b>Transaction Detail inquiries</b></font>
<br><br>
The detail of transactions can be inspected via one of two avenues:
<br><br>
<ul>
<li>From the Customer's Account inquiry - click on the magnifying glass or the GL link against the transaction required.
<li>From the Transaction Enquires - from the Accounts Receivable tab, click on the magnifying glass to see the actual invoice or credit note.
</ul> 

<!-- Help End: CustomerInquiry -->

<font size="+2"><b>Customers - Reporting</b></font>
<br><br>
The system is designed for flexibility and to provide the framework of core functionality required to administer a debtors ledger system. The basic accounts receivable reports are available as standard since they are used by all businesses. However, since the database is open it is envisaged that the business will make use of ODBC drivers for database used and use Crystal Reports or Microsoft Access  or some other analysis software, where the user is on the same LAN as the server for specialised reports.
<br><br> 

<!-- Help Begin: AgedDebtors -->

<font size="+1"><b>Aged Customer Balance Listing</b></font>
<br><br>
From the main menu select Customers, Reports, "Aged Customer Balances/Overdues Report".
<br><br>
This report calculates the balances of the customers' accounts according to the parameters specified in config.php $PastDueDays1 and $PastDueDays2. The report is generated in the currency of the customer. The currency of the report must first be selected and the range of customers accounts to print.
<br><br>
The report can be printed at two levels:
<br><br>
<ul>
<li>The full detail of the all outstanding amounts on the account, transaction by transaction analysed into current, Due, $PastDueDays1 and PastDueDays2. The detailed report also shows the terms applicable to each customer.
<li>A summary of the account balances split in the same aged groupings.
</ul>
This report recalculates the balance on the customer's account from the outstanding transactions and analyses each outstanding transaction based on the date of invoice plus the expected time to deliver to the branch invoiced.
<br><br>
The Aged Customer Balances can also be restricted to show just the accounts where there is some balance overdue. The same detail and summary reports are available. The resultant reports create pdf files that can be either saved or printed.

<!-- Help End: AgedDebtors -->

<br><br>

<!-- Help Begin: PrintCustStatements -->

<font size="+1"><b>Customer Statements</b></font>
<br><br>
The customer statement shows the outstanding transactions on the account. There is an option in config.php that allows transactions that have been settled at some time within the last month to be shown in a settled transactions section of the statement. The parameter, $Show_Settled_LastMonth should be set equal to 1 for this. If it is set to 0, then any settled transactions will not be shown on the statements. This saves printing zero balance statements and there is argument both ways as to which is best.
<br><br>
When transactions are created, the date of the transaction determines the period into which it is posted in the general ledger. The date of the transaction is also used in the aging calculations used on the statement. All transactions to the date of the statement are included. It is not possible to print a statement as at some prior date. It may be necessary to delay the start of invoicing for the new month until all receipts are entered and allocated and the statements printed before processing new invoices that should appear on the following month's statement.
<br><br>
Procedure - All receipts must be allocated for the aged analysis to be calculated correctly. Then from the main menu Accounts Receivable tab select from the reports and inquiries section, "Print Statements". The link will allow selection of a range of customers. A single customer's statement can be printed by selecting the same starting an finishing customer code. Statements will be printed in sequence of the Customer code set up in the customer details screen. A pdf file is created this can be saved or printed.

<!-- Help End: PrintCustStatements -->

<br><br>

<!-- Help Begin: CustomerTransInquiry -->

<font size="+1"><b>Customer Transaction Listing Options</b></font>
<br><br>
This is accessed from the main menu, accounts receivable tab under the link "Transaction Inquiries".
<br><br>
This inquiry allows transactions to be listed based on the selection of criteria on screen. The page allows listing of receipts, invoices or credit notes within any specified date range.
<br><br>
This listing is shown on the screen and can of course be printed from the browser if necessary.

<!-- Help End: CustomerTransInquiry -->

<br><br>

<!-- Help Begin: SalesAnalRepts -->

<font size="+1"><b>Sales Analysis</b></font>
<br><br>
From the main menu under Accounts Receivable Reports and Inquiries options, "Sales Analysis Reports". A list of all previously defined sales reports shows with links to:
<br><br>
<ul>
<li>Modify the design of the report - the header
<li>Modify the columns of the report
<li>Run the report and create a PDF file
<li>Run the report to create CSV - comma seperated values report that can be read by any spreadsheet application.
</ul>
Also from the bottom of this page it is possible to make up new reports to show most combinations of sales data. A seperate table of sales data is maintained by the system to enable these reports to be run as quickly as possible. 
<br><br>
A sales analysis report is made up of:
<br><br>
<ul>
<li>the report header defintion and
<li>the report column definitions
</ul>
<b>Sales Analysis Report Headers</b>
<br><br>
The first step in creating a report is to enter the report header information. This includes:
<br><br>
<ul>
<li>Report Heading - any combination of characters to describe the report.
<li>Up to 4 levels of grouping and the criteria for each grouping.
</ul>
Each grouping consists of a selection of one of:
<br><br>
<ul>
<li>Sales Area 
<li>Product Code
<li>Customer code - the actual charge account
<li>Sales type (or price list)
<li>Product type (or stock/inventory category)
<li>Customer branch
<li>Sales person
</ul>
The report groups on each level in sequence eg. A report with Group By 1 set to Product Code and Group By 2 set to Sales Area, would show the product code, then the areas underneath the product code where the item has been sold. Most often the more logical sequence might be to show the sales area as Group By 1 and the Product Code under the Group By 2 so that the sales of the product codes for each area appear together.
<br><br>
Each Group By section requires a range to be specified. All criteria specified must refer to the coding as specified in the setup section of the relevant Grouping. Eg Sales Areas criteria must be entered as the area code - not the area description. The criteria from should be less than the criteria to otherwise the report will have no output. 
<br><br>
<b>Sales Analysis Report Columns</b>
<br><br>
Having created a header for the report the columns can then be defined. Columns for existing reports can be modified at any time. From the main Sales Analysis Reports page - (Accounts Revceivable tab - Sales Analysis Reports) - there is a link on each report to "Define Columns". From this link the columns for the report selected are shown, together with a form to allow input of new columns. The following input is required for each column defined:
<br><br>
<ul>
<li>A column number between 1 and 10. This number determines where abouts across the page the column is printed -1 is the closest to the left of the page and 10 is the closest to the right of the page.
<li>Two fields are available for line 1 and 2 of the column heading. Any text can be input to a maximum of 15 characters in each.
<li>Whether the column is a calculation or not. The input required for calculated columns is different from normal data columns.
<li>For normal data columns -a range of periods to show the data for is required. The period from and to must be specified as the period number. Since periods are maintained almost invisibly by the system, there is a link provided from this screen to show the periods defined. If a single month is required then the period from will be the same as the period to.
<li>The data to show in the column can then be selected from: Quantity, Gross Value, Net Value (after discounts), Gross Profit, Cost and Discount.
<li>Budgeted sales or actual sales.
</ul>
If the column is defined as being a calculation the range of periods are not required, neither is the selection of the type of data to show and the budget or actual. Changing the Calculation field to yes then hitting the enter information button, show the fields required for a calculation:
<br><br>
<ul>
<li>Numerator field - this the column number of the first parameter to the calculation- the numerator field is always required in a calculation.
<li>Denominator field - this is the column number of the second parameter to the calculation if the calculation is to performed on two columns. If the operator of the calculation is to divide - then this column total will be on the bottom of the division calculation. If the calculation is to be done using a constant then this field can be left blank.
<li>Calculation operator can be one of:
<ol>
<li>Numerator column divided by Denominator column
<li>Numerator column divided by the constant
<li>Numerator column multiplied by the constant
<li>Numerator column plus the denominator column
<li>Numerator column minus the denominator column
</ol>
<li>Constant can be any number for use in the calculations
<li>Format type allows the output of the calculation to be expressed as either a percentage or a number.
</ul>
Hitting the Enter Information button adds the column to the report definition. It should then show in the list of defined columns and a blank form for entering a new column definition. If a column is no longer required the list of column definitions shown has a link that allows it to be deleted. 
<br><br>
The column number itself is a link to modify the definition of the column. The definition shows in the input form for alternation as necessary.
<br><br>
Clicking the link to maintain report headers shows the list of defined reports for modification or running. To run the report simply click on the Make PDF Report link.
<br><br>
These sales analysis reports have to look at a lot of information (and the reports are generated dynamically) as a result, they can take a minute or so to run on large databases. However, the design of the data has been done very carefully to ensure that reports generate dramatically faster than many such analysis engines.
<br><br>
<b>Automating Sales Reports</b>
<br><br>
Having created reports it is possible to email sales reports to defined recipients. A script called MailSalesReport.php is a template for doing this. There are no links to this script and no security level is set up for it. All that is required is to save this script to another file named anything with an extension of .php under the same directory as the other scripts. 
<br><br>
This script will need to be edited with the email addresses of the people to receive the report and the reportID - the system generated report number to be run. The lines to edit are:
<br><br>
/*The Sales report to send */
<br>
$ReportID = 4;
<br><br>
/*The people to receive the emailed report */
<br>
$Recipients = array('"Root" <root@localhost>','"some one else" <someoneelese@sowhere.com>');
<br><br>
The lines surrounded by /* and */ are comments.
<br><br>
Once edited to the ReportID or choice and the Recipients all entered the file should be saved.
<br><br>
To schedule the report to run an entry in crontab under a linux installation that would send the report at 0:0 each week day (assuming wget is installed in /usr/bin/wget and that the web server is on the same machine and the new script is called DailySalesReport.php) would be:
<br>
# Scheduled email of a daily sales report
<br><br>
0 0 * * 2-5 root /usr/bin/wget http://localhost/web-erp/DailySalesReport.php
<br><br>
since the page has no output - it would be pointless running it in a web browser although it would initiate another email to the defined recipients.
<br><br>
A similar template script is available called MailSalesReport_csv.php that mails the comma separated values file for a ReportID to the Recipients defined in the script in just the same way as MailSalesReport.php script above.

<!-- Help End: SalesAnalRepts -->

<br><br>

<!-- Help Begin: PrintCustTrans -->

<font size="+1"><b>Printing Invoices Or Credit Notes</b></font>
<br><br>
From the Main Menu select the Accounts Receivable tab, under Inquiries and Reports, "Print Invoices or Credit Notes".
<br><br>
This page shows the last invoice and credit note created and some brief instructions on how to use the page. By default the page assumes that invoices are required. However, if credit notes are required, they can be selected from the list field. 
<br><br>
If only one transaction is required then the number of the transaction should be entered in the field "Start invoice/credit note number to print". If a range of transactions is required then both fields are necessary to be completed.
<br><br>
There is also an option to print EDI invoices/credit notes. By default these are not printed as they will normally be dispatched electronically to the customer. However, some businesses and tax authorities require hard copy invoices and credit notes to be produced in any event.
<br><br>
Two options are available - Print, produces a html page of the invoice (or credit note), the resulting page can then be printed using the browser print functionality. The print PDF produces a PDF invoice (or credit note).

<!-- Help End: PrintCustTrans -->

<br><br><br>
<font size="+3"><b><A NAME=Orders>Sales Orders</A></b></font>
<br><br>
<font size="+2"><b>Functionality</b></font>
<br><br>
<ul>
<li>Customer orders can be entered and maintained and referenced back to the customer's order number. 
<li>The cumulative quantity on order for a stock item shows as a demand in stock status inquiries. 
<li>The cumulative quantity on order for assembly items shows the demand against its components in the stock status inquiries.
<li>The quantity of the order left to invoice is maintained and updated for invoices and credit notes raised against the order. 
<li>The orders entered can be invoiced directly with little or no additional input. 
<li>Multiple dispatches are possible from a single order. Order retains references to each dispatch.
<li>Differences from the order are logged when dispatches are not the same as the ordered quantities for reporting delivery in full on time.
<li>Pricing automatically returned based on the customer sales type, branch and currency.
<li>Quantity break discounts across a range of products are automatically calculated based on the discount matrix.
<li>Packing slips printable on laser or pre-printed stationery.
<li>User selectable inventory location to pick from.
<li>Free form entry of delivery addresses - defaulting to the customer branch physical address.
</ul>

<!-- Help Begin: SelectOrderItems -->

<font size="+2"><b>Entry of Sales Orders</b></font>
<br><br>
From the main menu, Orders tab, click the Order Entry link.
<font size="+1"><b>Selection of the Customer and Branch</b></font>
<br><br>
Initially, the order entry page shows the options to allow selection of a customer and branch. The customer is the actual charge account to where the order should be billed and the branch contains all the information about delivery. The customer search facilities are similar to the select customer script, but the code actually looks up on the branch code of the customer, only branches are displayed with accompanying customer charge to information. Searching for a customer can be either by entering a letter or letters in the branch code or by entering some keywords (or section of) in the customer name. Searching in this way minimises the result set returned (possibly over a dial up connection) to ensure the response is as speedy as possible to the users browser. All branches matching the criteria entered and not flagged as disabled for transactions, are returned each one with a button on the customer code. Hitting the button for the desired customer/branch selects it as the customer and branch to deliver the order to. There is opportunity later to modify the delivery details if need be. The order now shows the quick entry screen headed up with the name of the customer and branch, together with the sales type of the customer.
<br><br>
<font size="+1"><b>Selection of Order Line Items</b></font>
<br><br>
There are two ways to select the line items for the order. 
<br><br>
<ul>
<li>By default a "quick entry" screen shows allowing the direct entry of the inventory code and the quantity required for the order. The number of lines shown on this quick entry table is defined by a variable in config.php - $QuickEntryLines which is user modifiable. After the user has entered any number of lines into this table, hitting the Quick Entry button processes the items entered into the order. The prices are retrieved based on the sales type, the currency, customer branch and the charge to customer of the order. If there were insufficient lines to enter all part codes for the order, the same process can be repeated with the quick entry table shown below the order summary after the first quick entry has been processed.
<li>On the quick entry screen there is a button to search parts. This button enables the user to search for a part based on the stock category and/or any part of the item's description and/or any element of the item's code. Hitting the search button after making appropriate entries in the code or description fields shows the part codes and descriptions together with picture of the item - if one has been uploaded to the server for all parts. Part pictures must be in .jpg format with a file name identical to the part code but with the extension .jpg, and it must reside in the directory specified in config.php for part_pics. The item code is displayed as a button and the system automatically puts one of the item selected onto the order. Additional parts can be selected in the same way.
</ul>
Having selected the parts for the order, it is possible to edit the quantities, price and discount applicable to each line of the order. To get the order values to re-calculate the "Recalulate" button must be clicked (this is the compromise of using server side scripting - PHP - to the exclusion of any client side - java - processing). Discounts will be calculated using the Discount Matrix functionality described under that section within the order based on the quantities that are entered. 
<br><br>
If a line entered, displays against a red background this means that the system inventory is showing insufficient stock to cover the order line, from the inventory location as defaulted from the customer branch record - as the most appropriate inventory location to draw the stock for this branch's orders. The item code displayed is also a link to a new browser window showing the stock status inquiry for the item, this shows the stock available at all locations.
<br><br>
A line can be deleted at any time by clicking on the link at the end of the line to delete it.
<br><br>
The whole order can be cancelled at any time by clicking on the "Cancel Whole Order" button.
<br><br>
The customer can also be changed at any time.
<br><br>
Once all the line items have been selected the Delivery Details button must be clicked. Note that there have been no changes to the database at all. The data entered exists only as a server side cookie - a file on the web-server. Delivery details must be confirmed before the order can be placed.
<font size="+1"><b>Delivery Details</b></font>
<br><br>
By default the delivery details are obtained from the physical address of the branch. However, any of the information in this screen can be over-ridden. This information prints on the dispatch/packing slip and on the invoice. 
<br><br>
The inventory location where the stock for the order is to be drawn from is defaulted from the customer branch record. However, it is possible to select an alternative inventory location if the order is to be picked from elsewhere.
<br><br>
The customer's order reference should be entered here and the most appropriate freight company should be selected. The system keeps track of the last freight company used to deliver to the branch and uses this as the default, if it is over-ridden then this new value is stored against the branch.
<br><br>
It is possible to go back to the line item entry screen retaining all the data entered on the delivery details screen by clicking on the modify line items button. If the inventory location to draw from has been changed the colouring of the background of the line items will be updated to reflect the stock available at the new location to pick from.
<br><br>
If the automatic freight calculations are being used - see the parameters in config.php, the freight cost will be calculated based on the sum of the whole order cubic metres and weight. The best shipping company will also be returned. The user can choose to charge the freight calculated or just use the cheapest freight company. The freight charge calculated can be over-ridden if required.
<br><br>
Once all details are entered correctly the Place Order button should be clicked. It is important to note that abandoning the order before this button is clicked there have been no updates to the database and nothing is saved. Clicking into some other screen loses the order as entered. Whilst it is perfectly acceptable to have several browser screens open looking at different inquiries at the same time. It is not possible to have two windows entering two separate sales orders at the same time, entries in the one window will over-write the other.

<!-- Help End: SelectOrderItems -->

<br><br>

<!-- Help Begin: SelectSalesOrder -->

<font size="+1"><b>Modfiying An Order</b></font>
<br><br>
Only Outstanding sales orders can be modified. Only these orders have any balance of a quantity remaining to be delivered and/or invoiced. Order lines that have been invoiced completely will not be available for modification. New items cannot be added to the order. Pricing cannot be altered if any amount of the line has already been delivered/invoiced. Quantities of an order line cannot be reduced below the quantity of the line already invoiced.
<br><br>
Note that changing the delivery address of an outstanding order that has already had some of the order delivered and invoiced will affect re-prints of the initial invoice - it will show as being delivered to the order delivery address that has been modified. Hard copy of original invoices are required.
<br><br>
<b>Selecting an Outstanding Sales Order</b>
<br><br> 
There are several ways:
<br><br>
<ul>
<li>If the item ordered is known, sales orders can be selected that have the item on by first selecting the item in the Select Item page, once the item is selected a link to show outstanding sales orders is displayed.
<li>If the customer is known, then first select this customer then use the link on the customer selection menu to show only the outstanding orders for the customer selected.
<li>All outstanding orders can be displayed by entering the Outstanding Sales Orders screen without a customer or item directly from the main menu under the orders tab. The outstanding Sales Orders screen also has facilities for looking up a part directly as well.
</ul>
The Outstanding sales orders are shown by inventory location, the inventory location desired can be selected on this screen, by default the location defined as the default for the user is shown. The orders matching the criteria are only shown when the user clicks on the search orders button.
<br><br>
The orders displayed each show links to modify the line items, invoice the order or print the dispatch note. If the order has already been printed this link will show that it has already been printed to avoid printing several dispatch notes and risk doubling up deliveries.

<!-- Help End: SelectSalesOrder -->

<br><br>

<!-- Help Begin: Shipments -->

<font size="+2"><b>Shipments</b></font>
<br><br>
The shipment costing system is meant for use in situations where there are substantial freight costs on purchased products and the business wishes to keep track of the actual cost of these items. Many smaller businesses do these calculations on spreadsheets outside the integrated system. The advantage of bringing them inside the system is that the possibility for updating standards and calculation of variances from standard at the time the costing is completed.
<br><br>
Having selected a supplier the system allows outstanding purchase order items to be collated into a shipment of goods arriving altogether, the shipment is allocated a shipment number. By changing the expected time of arrival of the shipment (ETA) the delivery date of all purchase order lines on the shipment will be updated. The costs associated with landing and clearing this bundle of products can be entered against it from purchase invoice entry. Freight charges and cartage from the wharf, airfreight, unpacking, demurrage etc can be entered as costs of the shipment. The shipment costing inquiry will show these costs allocated against all of the items on the shipment, using the invoiced value of the items as the basis for apportionment. The actual shipment cost will show together with the existing standard cost and the variance.
<br><br>
<font size="+1"><b>Shipment General Ledger Posting</b></font>
<br><br>
Shipment charges are posted to the GRN suspense account at the time of entry of the purchase invoice. When the shipment is closed the costs of the shipment are compared against the standard cost of the shipment items taken into stock and the difference that was left in the GRN suspense account is taken to purchase variances.
<br><br>
If the option to update standard costs at the time of closing the shipment is used, the difference on the stock value is taken to the stock category - stock adjustment, general ledger account.
<br><br>
<font size="+1"><b>Creating Shipments</b></font>
<br><br>
After selecting the supplier from which the product has been sourced and having entered the purchase order(s) to initiate the transaction, from the select supplier menu, choose the link "Set up a New Shipment". Each time this page is called the system increments a shipment reference and shows the shipment number that will be used. The shipment page that shows allows, the details of the shipment to be entered.
<br><br>
<ul>
<li>The name of the vessel on which the product has been loaded
<li>The voyage reference - this could refer to the HAWB in the case of airfreight
</ul>
The above are not required if deemed unnecessary, but serve as a useful reference for following and tracking where product is currently and monitoring ETA through the shipping company who will need these details.
<br><br>
In addition to the above details the Expected Time of Arrival (ETA) is required to be entered.
<br><br>
It is important to hit the "Update Shipment Details" button after this data is entered. As clicking one of the add links will lose this information just entered otherwise.
<br><br>
When the shipment entry screen is first displayed there is facility to select the inventory location where the purchase order has been requested to arrive. By default the user's default inventory location will be used, but once the inputs above are entered the location can be changed and a click on the "Update" button will then show all the purchase order items defined to arrive at the new location.
<br><br>
Once a purchase order item has been selected to be part of the shipment the shipment entry screen will only allow other purchase order items that are also to be delivered to the same location. The location will be displayed on screen for informational purposes only.
<br><br>
The location into which the shipment is to be delivered follows the purchase order. It is not possible to set up a shipment with purchase order lines into different locations.
<br><br>
(NB. it is possible to change the location of a purchase order that has lines on it that are allocated to a shipment that also has other lines expected to be delivered into a different location. This could result in a problem)
<br><br>
The purchase order line items on outstanding orders that are yet to be invoiced and are not currently on a shipment are shown on the screen. Clicking on the link to "Add" will add the line to the shipment. The lines currently allocated to the shipment will show and a link to "Delete" the line. This allows the line to be taken off the shipment (it will not delete the purchase order line).

<!-- Help End: Shipments -->

<br><br>

<!-- Help Begin: Shipt_Select -->

<font size="+1"><b>Shipment Costings</b></font>
<br><br>
The costs of a shipment are recorded at the time of purchase invoice entry. Entering a purchase order from the supplier of the shipment, records the actual amount invoiced and the exchange rate at which it was invoiced against the shipment. It is important to ensure the shipment is defined before any of the item is invoiced. Once some of the item is invoiced it is not available for adding to a shipment. Nor can the item be taken off a shipment to which it was already set up against. The item must be credited before this can be done. The recording of the shipment cost happens invisibly behind the scenes for GRN items.
<br><br>
Freight charges, duty and cartage are recorded against the shipment at the time of the purchase invoice entry against the freight company. There is opportunity to enter invoices against a shipment and all open shipments show in a select box.
<br><br>
Selecting a shipment is done from the select supplier screen. The shipments defined for the supplier are shown for the users's default inventory location. The location can be changed to show shipments into other locations. By default only open shipments are shown but there is an option to show closed shipments as well. The vessel, voyage and ETA show for all shipments shown together with links to allow:
<br><br>
<ul>
<li>Modification of the shipment lines or ETA or references.
<li>Viewing the costing with invoiced amounts in local currency against each item together with the other general shipment charges - shown by supplier and invoice number.
<li>Closing the shipment costing.
</ul>

<!-- Help End: Shipt_Select -->

<!-- Help Begin: ShipmentCosting -->

<font size="+1"><b>Closing a Shipment</b></font>
<br><br>
From the select Shipment screen, the link to close a shipment shows on all open shipments. Closing the shipment makes it impossible to post additional charges against it and also if general ledger stock integration is active, journals to take the variances from standard to the variance account and the GRN suspense are created. Closing a shipment also has an option to update the standard costs. By default this is set to yes. Again if stock GL integration is enabled (see company preferences) then the cost adjustment journals are posted in the same way as if the cost adjustment was processed separately.
<!-- Help End: ShipmentCosting -->
</body>
</html>
